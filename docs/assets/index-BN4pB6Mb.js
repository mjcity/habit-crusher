function zf(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Mf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gc={exports:{}},$i={},Jc={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ls=Symbol.for("react.element"),Bf=Symbol.for("react.portal"),Ff=Symbol.for("react.fragment"),Wf=Symbol.for("react.strict_mode"),Hf=Symbol.for("react.profiler"),Vf=Symbol.for("react.provider"),qf=Symbol.for("react.context"),Kf=Symbol.for("react.forward_ref"),Gf=Symbol.for("react.suspense"),Jf=Symbol.for("react.memo"),Qf=Symbol.for("react.lazy"),ru=Symbol.iterator;function Yf(e){return e===null||typeof e!="object"?null:(e=ru&&e[ru]||e["@@iterator"],typeof e=="function"?e:null)}var Qc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yc=Object.assign,Xc={};function sn(e,t,r){this.props=e,this.context=t,this.refs=Xc,this.updater=r||Qc}sn.prototype.isReactComponent={};sn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zc(){}Zc.prototype=sn.prototype;function rl(e,t,r){this.props=e,this.context=t,this.refs=Xc,this.updater=r||Qc}var nl=rl.prototype=new Zc;nl.constructor=rl;Yc(nl,sn.prototype);nl.isPureReactComponent=!0;var nu=Array.isArray,ed=Object.prototype.hasOwnProperty,sl={current:null},td={key:!0,ref:!0,__self:!0,__source:!0};function rd(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ed.call(t,n)&&!td.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ls,type:e,key:i,ref:o,props:s,_owner:sl.current}}function Xf(e,t){return{$$typeof:ls,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function il(e){return typeof e=="object"&&e!==null&&e.$$typeof===ls}function Zf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var su=/\/+/g;function co(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zf(""+e.key):t.toString(36)}function Vs(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ls:case Bf:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+co(o,0):n,nu(s)?(r="",e!=null&&(r=e.replace(su,"$&/")+"/"),Vs(s,t,r,"",function(u){return u})):s!=null&&(il(s)&&(s=Xf(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(su,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",nu(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+co(i,a);o+=Vs(i,t,r,l,s)}else if(l=Yf(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+co(i,a++),o+=Vs(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ys(e,t,r){if(e==null)return e;var n=[],s=0;return Vs(e,n,"","",function(i){return t.call(r,i,s++)}),n}function ep(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ke={current:null},qs={transition:null},tp={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:qs,ReactCurrentOwner:sl};function nd(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:ys,forEach:function(e,t,r){ys(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ys(e,function(){t++}),t},toArray:function(e){return ys(e,function(t){return t})||[]},only:function(e){if(!il(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};D.Component=sn;D.Fragment=Ff;D.Profiler=Hf;D.PureComponent=rl;D.StrictMode=Wf;D.Suspense=Gf;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tp;D.act=nd;D.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Yc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=sl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)ed.call(t,l)&&!td.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:ls,type:e.type,key:s,ref:i,props:n,_owner:o}};D.createContext=function(e){return e={$$typeof:qf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vf,_context:e},e.Consumer=e};D.createElement=rd;D.createFactory=function(e){var t=rd.bind(null,e);return t.type=e,t};D.createRef=function(){return{current:null}};D.forwardRef=function(e){return{$$typeof:Kf,render:e}};D.isValidElement=il;D.lazy=function(e){return{$$typeof:Qf,_payload:{_status:-1,_result:e},_init:ep}};D.memo=function(e,t){return{$$typeof:Jf,type:e,compare:t===void 0?null:t}};D.startTransition=function(e){var t=qs.transition;qs.transition={};try{e()}finally{qs.transition=t}};D.unstable_act=nd;D.useCallback=function(e,t){return ke.current.useCallback(e,t)};D.useContext=function(e){return ke.current.useContext(e)};D.useDebugValue=function(){};D.useDeferredValue=function(e){return ke.current.useDeferredValue(e)};D.useEffect=function(e,t){return ke.current.useEffect(e,t)};D.useId=function(){return ke.current.useId()};D.useImperativeHandle=function(e,t,r){return ke.current.useImperativeHandle(e,t,r)};D.useInsertionEffect=function(e,t){return ke.current.useInsertionEffect(e,t)};D.useLayoutEffect=function(e,t){return ke.current.useLayoutEffect(e,t)};D.useMemo=function(e,t){return ke.current.useMemo(e,t)};D.useReducer=function(e,t,r){return ke.current.useReducer(e,t,r)};D.useRef=function(e){return ke.current.useRef(e)};D.useState=function(e){return ke.current.useState(e)};D.useSyncExternalStore=function(e,t,r){return ke.current.useSyncExternalStore(e,t,r)};D.useTransition=function(){return ke.current.useTransition()};D.version="18.3.1";Jc.exports=D;var x=Jc.exports;const ht=Mf(x),rp=zf({__proto__:null,default:ht},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np=x,sp=Symbol.for("react.element"),ip=Symbol.for("react.fragment"),op=Object.prototype.hasOwnProperty,ap=np.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lp={key:!0,ref:!0,__self:!0,__source:!0};function sd(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)op.call(t,n)&&!lp.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:sp,type:e,key:i,ref:o,props:s,_owner:ap.current}}$i.Fragment=ip;$i.jsx=sd;$i.jsxs=sd;Gc.exports=$i;var y=Gc.exports,Go={},id={exports:{}},Le={},od={exports:{}},ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,$){var U=R.length;R.push($);e:for(;0<U;){var ee=U-1>>>1,ae=R[ee];if(0<s(ae,$))R[ee]=$,R[U]=ae,U=ee;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var $=R[0],U=R.pop();if(U!==$){R[0]=U;e:for(var ee=0,ae=R.length,gs=ae>>>1;ee<gs;){var Gt=2*(ee+1)-1,uo=R[Gt],Jt=Gt+1,vs=R[Jt];if(0>s(uo,U))Jt<ae&&0>s(vs,uo)?(R[ee]=vs,R[Jt]=U,ee=Jt):(R[ee]=uo,R[Gt]=U,ee=Gt);else if(Jt<ae&&0>s(vs,U))R[ee]=vs,R[Jt]=U,ee=Jt;else break e}}return $}function s(R,$){var U=R.sortIndex-$.sortIndex;return U!==0?U:R.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,m=!1,v=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=R)n(u),$.sortIndex=$.expirationTime,t(l,$);else break;$=r(u)}}function b(R){if(w=!1,g(R),!v)if(r(l)!==null)v=!0,ao(E);else{var $=r(u);$!==null&&lo(b,$.startTime-R)}}function E(R,$){v=!1,w&&(w=!1,p(S),S=-1),m=!0;var U=h;try{for(g($),d=r(l);d!==null&&(!(d.expirationTime>$)||R&&!L());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,h=d.priorityLevel;var ae=ee(d.expirationTime<=$);$=e.unstable_now(),typeof ae=="function"?d.callback=ae:d===r(l)&&n(l),g($)}else n(l);d=r(l)}if(d!==null)var gs=!0;else{var Gt=r(u);Gt!==null&&lo(b,Gt.startTime-$),gs=!1}return gs}finally{d=null,h=U,m=!1}}var C=!1,_=null,S=-1,j=5,P=-1;function L(){return!(e.unstable_now()-P<j)}function B(){if(_!==null){var R=e.unstable_now();P=R;var $=!0;try{$=_(!0,R)}finally{$?Y():(C=!1,_=null)}}else C=!1}var Y;if(typeof f=="function")Y=function(){f(B)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,ms=We.port2;We.port1.onmessage=B,Y=function(){ms.postMessage(null)}}else Y=function(){k(B,0)};function ao(R){_=R,C||(C=!0,Y())}function lo(R,$){S=k(function(){R(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,ao(E))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var U=h;h=$;try{return R()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var U=h;h=R;try{return $()}finally{h=U}},e.unstable_scheduleCallback=function(R,$,U){var ee=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ee+U:ee):U=ee,R){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=U+ae,R={id:c++,callback:$,priorityLevel:R,startTime:U,expirationTime:ae,sortIndex:-1},U>ee?(R.sortIndex=U,t(u,R),r(l)===null&&R===r(u)&&(w?(p(S),S=-1):w=!0,lo(b,U-ee))):(R.sortIndex=ae,t(l,R),v||m||(v=!0,ao(E))),R},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(R){var $=h;return function(){var U=h;h=$;try{return R.apply(this,arguments)}finally{h=U}}}})(ad);od.exports=ad;var up=od.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp=x,Ie=up;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ld=new Set,$n={};function pr(e,t){Qr(e,t),Qr(e+"Capture",t)}function Qr(e,t){for($n[e]=t,e=0;e<t.length;e++)ld.add(t[e])}var pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jo=Object.prototype.hasOwnProperty,dp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iu={},ou={};function hp(e){return Jo.call(ou,e)?!0:Jo.call(iu,e)?!1:dp.test(e)?ou[e]=!0:(iu[e]=!0,!1)}function fp(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pp(e,t,r,n){if(t===null||typeof t>"u"||fp(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function be(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pe[e]=new be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pe[e]=new be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pe[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)});var ol=/[\-:]([a-z])/g;function al(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ol,al);pe[t]=new be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ol,al);pe[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ol,al);pe[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)});pe.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pe[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)});function ll(e,t,r,n){var s=pe.hasOwnProperty(t)?pe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pp(t,r,s,n)&&(r=null),n||s===null?hp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var yt=cp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ws=Symbol.for("react.element"),jr=Symbol.for("react.portal"),Rr=Symbol.for("react.fragment"),ul=Symbol.for("react.strict_mode"),Qo=Symbol.for("react.profiler"),ud=Symbol.for("react.provider"),cd=Symbol.for("react.context"),cl=Symbol.for("react.forward_ref"),Yo=Symbol.for("react.suspense"),Xo=Symbol.for("react.suspense_list"),dl=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),dd=Symbol.for("react.offscreen"),au=Symbol.iterator;function dn(e){return e===null||typeof e!="object"?null:(e=au&&e[au]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Object.assign,ho;function _n(e){if(ho===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ho=t&&t[1]||""}return`
`+ho+e}var fo=!1;function po(e,t){if(!e||fo)return"";fo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{fo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_n(e):""}function mp(e){switch(e.tag){case 5:return _n(e.type);case 16:return _n("Lazy");case 13:return _n("Suspense");case 19:return _n("SuspenseList");case 0:case 2:case 15:return e=po(e.type,!1),e;case 11:return e=po(e.type.render,!1),e;case 1:return e=po(e.type,!0),e;default:return""}}function Zo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rr:return"Fragment";case jr:return"Portal";case Qo:return"Profiler";case ul:return"StrictMode";case Yo:return"Suspense";case Xo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cd:return(e.displayName||"Context")+".Consumer";case ud:return(e._context.displayName||"Context")+".Provider";case cl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dl:return t=e.displayName||null,t!==null?t:Zo(e.type)||"Memo";case bt:t=e._payload,e=e._init;try{return Zo(e(t))}catch{}}return null}function gp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zo(t);case 8:return t===ul?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vp(e){var t=hd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _s(e){e._valueTracker||(e._valueTracker=vp(e))}function fd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=hd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ea(e,t){var r=t.checked;return Q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function lu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Bt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pd(e,t){t=t.checked,t!=null&&ll(e,"checked",t,!1)}function ta(e,t){pd(e,t);var r=Bt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ra(e,t.type,r):t.hasOwnProperty("defaultValue")&&ra(e,t.type,Bt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ra(e,t,r){(t!=="number"||ii(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var kn=Array.isArray;function Wr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Bt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function na(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return Q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(kn(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Bt(r)}}function md(e,t){var r=Bt(t.value),n=Bt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function du(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ks,vd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ks=ks||document.createElement("div"),ks.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ks.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Un(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var En={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yp=["Webkit","ms","Moz","O"];Object.keys(En).forEach(function(e){yp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),En[t]=En[e]})});function yd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||En.hasOwnProperty(e)&&En[e]?(""+t).trim():t+"px"}function wd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=yd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var wp=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ia(e,t){if(t){if(wp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function oa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aa=null;function hl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var la=null,Hr=null,Vr=null;function hu(e){if(e=ds(e)){if(typeof la!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Bi(t),la(e.stateNode,e.type,t))}}function _d(e){Hr?Vr?Vr.push(e):Vr=[e]:Hr=e}function kd(){if(Hr){var e=Hr,t=Vr;if(Vr=Hr=null,hu(e),t)for(e=0;e<t.length;e++)hu(t[e])}}function bd(e,t){return e(t)}function Sd(){}var mo=!1;function xd(e,t,r){if(mo)return e(t,r);mo=!0;try{return bd(e,t,r)}finally{mo=!1,(Hr!==null||Vr!==null)&&(Sd(),kd())}}function Dn(e,t){var r=e.stateNode;if(r===null)return null;var n=Bi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var ua=!1;if(pt)try{var hn={};Object.defineProperty(hn,"passive",{get:function(){ua=!0}}),window.addEventListener("test",hn,hn),window.removeEventListener("test",hn,hn)}catch{ua=!1}function _p(e,t,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Cn=!1,oi=null,ai=!1,ca=null,kp={onError:function(e){Cn=!0,oi=e}};function bp(e,t,r,n,s,i,o,a,l){Cn=!1,oi=null,_p.apply(kp,arguments)}function Sp(e,t,r,n,s,i,o,a,l){if(bp.apply(this,arguments),Cn){if(Cn){var u=oi;Cn=!1,oi=null}else throw Error(T(198));ai||(ai=!0,ca=u)}}function mr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ed(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fu(e){if(mr(e)!==e)throw Error(T(188))}function xp(e){var t=e.alternate;if(!t){if(t=mr(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return fu(s),e;if(i===n)return fu(s),t;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function Cd(e){return e=xp(e),e!==null?Td(e):null}function Td(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Td(e);if(t!==null)return t;e=e.sibling}return null}var Pd=Ie.unstable_scheduleCallback,pu=Ie.unstable_cancelCallback,Ep=Ie.unstable_shouldYield,Cp=Ie.unstable_requestPaint,te=Ie.unstable_now,Tp=Ie.unstable_getCurrentPriorityLevel,fl=Ie.unstable_ImmediatePriority,Od=Ie.unstable_UserBlockingPriority,li=Ie.unstable_NormalPriority,Pp=Ie.unstable_LowPriority,jd=Ie.unstable_IdlePriority,Ui=null,st=null;function Op(e){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Ui,e,void 0,(e.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:Np,jp=Math.log,Rp=Math.LN2;function Np(e){return e>>>=0,e===0?32:31-(jp(e)/Rp|0)|0}var bs=64,Ss=4194304;function bn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ui(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=bn(a):(i&=o,i!==0&&(n=bn(i)))}else o=r&~s,o!==0?n=bn(o):i!==0&&(n=bn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Xe(t),s=1<<r,n|=e[r],t&=~s;return n}function Ap(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ip(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Xe(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Ap(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function da(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rd(){var e=bs;return bs<<=1,!(bs&4194240)&&(bs=64),e}function go(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function us(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xe(t),e[t]=r}function Lp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Xe(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function pl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Xe(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var M=0;function Nd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ad,ml,Id,Ld,$d,ha=!1,xs=[],Nt=null,At=null,It=null,zn=new Map,Mn=new Map,Et=[],$p="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mu(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":zn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mn.delete(t.pointerId)}}function fn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ds(t),t!==null&&ml(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Up(e,t,r,n,s){switch(t){case"focusin":return Nt=fn(Nt,e,t,r,n,s),!0;case"dragenter":return At=fn(At,e,t,r,n,s),!0;case"mouseover":return It=fn(It,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return zn.set(i,fn(zn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Mn.set(i,fn(Mn.get(i)||null,e,t,r,n,s)),!0}return!1}function Ud(e){var t=nr(e.target);if(t!==null){var r=mr(t);if(r!==null){if(t=r.tag,t===13){if(t=Ed(r),t!==null){e.blockedOn=t,$d(e.priority,function(){Id(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ks(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=fa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);aa=n,r.target.dispatchEvent(n),aa=null}else return t=ds(r),t!==null&&ml(t),e.blockedOn=r,!1;t.shift()}return!0}function gu(e,t,r){Ks(e)&&r.delete(t)}function Dp(){ha=!1,Nt!==null&&Ks(Nt)&&(Nt=null),At!==null&&Ks(At)&&(At=null),It!==null&&Ks(It)&&(It=null),zn.forEach(gu),Mn.forEach(gu)}function pn(e,t){e.blockedOn===t&&(e.blockedOn=null,ha||(ha=!0,Ie.unstable_scheduleCallback(Ie.unstable_NormalPriority,Dp)))}function Bn(e){function t(s){return pn(s,e)}if(0<xs.length){pn(xs[0],e);for(var r=1;r<xs.length;r++){var n=xs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Nt!==null&&pn(Nt,e),At!==null&&pn(At,e),It!==null&&pn(It,e),zn.forEach(t),Mn.forEach(t),r=0;r<Et.length;r++)n=Et[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Et.length&&(r=Et[0],r.blockedOn===null);)Ud(r),r.blockedOn===null&&Et.shift()}var qr=yt.ReactCurrentBatchConfig,ci=!0;function zp(e,t,r,n){var s=M,i=qr.transition;qr.transition=null;try{M=1,gl(e,t,r,n)}finally{M=s,qr.transition=i}}function Mp(e,t,r,n){var s=M,i=qr.transition;qr.transition=null;try{M=4,gl(e,t,r,n)}finally{M=s,qr.transition=i}}function gl(e,t,r,n){if(ci){var s=fa(e,t,r,n);if(s===null)Co(e,t,n,di,r),mu(e,n);else if(Up(s,e,t,r,n))n.stopPropagation();else if(mu(e,n),t&4&&-1<$p.indexOf(e)){for(;s!==null;){var i=ds(s);if(i!==null&&Ad(i),i=fa(e,t,r,n),i===null&&Co(e,t,n,di,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Co(e,t,n,null,r)}}var di=null;function fa(e,t,r,n){if(di=null,e=hl(n),e=nr(e),e!==null)if(t=mr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ed(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return di=e,null}function Dd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tp()){case fl:return 1;case Od:return 4;case li:case Pp:return 16;case jd:return 536870912;default:return 16}default:return 16}}var Pt=null,vl=null,Gs=null;function zd(){if(Gs)return Gs;var e,t=vl,r=t.length,n,s="value"in Pt?Pt.value:Pt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Gs=s.slice(e,1<n?1-n:void 0)}function Js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Es(){return!0}function vu(){return!1}function $e(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Es:vu,this.isPropagationStopped=vu,this}return Q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),t}var on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=$e(on),cs=Q({},on,{view:0,detail:0}),Bp=$e(cs),vo,yo,mn,Di=Q({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mn&&(mn&&e.type==="mousemove"?(vo=e.screenX-mn.screenX,yo=e.screenY-mn.screenY):yo=vo=0,mn=e),vo)},movementY:function(e){return"movementY"in e?e.movementY:yo}}),yu=$e(Di),Fp=Q({},Di,{dataTransfer:0}),Wp=$e(Fp),Hp=Q({},cs,{relatedTarget:0}),wo=$e(Hp),Vp=Q({},on,{animationName:0,elapsedTime:0,pseudoElement:0}),qp=$e(Vp),Kp=Q({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gp=$e(Kp),Jp=Q({},on,{data:0}),wu=$e(Jp),Qp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xp[e])?!!t[e]:!1}function wl(){return Zp}var em=Q({},cs,{key:function(e){if(e.key){var t=Qp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wl,charCode:function(e){return e.type==="keypress"?Js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tm=$e(em),rm=Q({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_u=$e(rm),nm=Q({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wl}),sm=$e(nm),im=Q({},on,{propertyName:0,elapsedTime:0,pseudoElement:0}),om=$e(im),am=Q({},Di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lm=$e(am),um=[9,13,27,32],_l=pt&&"CompositionEvent"in window,Tn=null;pt&&"documentMode"in document&&(Tn=document.documentMode);var cm=pt&&"TextEvent"in window&&!Tn,Md=pt&&(!_l||Tn&&8<Tn&&11>=Tn),ku=" ",bu=!1;function Bd(e,t){switch(e){case"keyup":return um.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nr=!1;function dm(e,t){switch(e){case"compositionend":return Fd(t);case"keypress":return t.which!==32?null:(bu=!0,ku);case"textInput":return e=t.data,e===ku&&bu?null:e;default:return null}}function hm(e,t){if(Nr)return e==="compositionend"||!_l&&Bd(e,t)?(e=zd(),Gs=vl=Pt=null,Nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Md&&t.locale!=="ko"?null:t.data;default:return null}}var fm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fm[e.type]:t==="textarea"}function Wd(e,t,r,n){_d(n),t=hi(t,"onChange"),0<t.length&&(r=new yl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Pn=null,Fn=null;function pm(e){eh(e,0)}function zi(e){var t=Lr(e);if(fd(t))return e}function mm(e,t){if(e==="change")return t}var Hd=!1;if(pt){var _o;if(pt){var ko="oninput"in document;if(!ko){var xu=document.createElement("div");xu.setAttribute("oninput","return;"),ko=typeof xu.oninput=="function"}_o=ko}else _o=!1;Hd=_o&&(!document.documentMode||9<document.documentMode)}function Eu(){Pn&&(Pn.detachEvent("onpropertychange",Vd),Fn=Pn=null)}function Vd(e){if(e.propertyName==="value"&&zi(Fn)){var t=[];Wd(t,Fn,e,hl(e)),xd(pm,t)}}function gm(e,t,r){e==="focusin"?(Eu(),Pn=t,Fn=r,Pn.attachEvent("onpropertychange",Vd)):e==="focusout"&&Eu()}function vm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zi(Fn)}function ym(e,t){if(e==="click")return zi(t)}function wm(e,t){if(e==="input"||e==="change")return zi(t)}function _m(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var et=typeof Object.is=="function"?Object.is:_m;function Wn(e,t){if(et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Jo.call(t,s)||!et(e[s],t[s]))return!1}return!0}function Cu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tu(e,t){var r=Cu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cu(r)}}function qd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kd(){for(var e=window,t=ii();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ii(e.document)}return t}function kl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function km(e){var t=Kd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&qd(r.ownerDocument.documentElement,r)){if(n!==null&&kl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Tu(r,i);var o=Tu(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bm=pt&&"documentMode"in document&&11>=document.documentMode,Ar=null,pa=null,On=null,ma=!1;function Pu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ma||Ar==null||Ar!==ii(n)||(n=Ar,"selectionStart"in n&&kl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),On&&Wn(On,n)||(On=n,n=hi(pa,"onSelect"),0<n.length&&(t=new yl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ar)))}function Cs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ir={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},bo={},Gd={};pt&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function Mi(e){if(bo[e])return bo[e];if(!Ir[e])return e;var t=Ir[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Gd)return bo[e]=t[r];return e}var Jd=Mi("animationend"),Qd=Mi("animationiteration"),Yd=Mi("animationstart"),Xd=Mi("transitionend"),Zd=new Map,Ou="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wt(e,t){Zd.set(e,t),pr(t,[e])}for(var So=0;So<Ou.length;So++){var xo=Ou[So],Sm=xo.toLowerCase(),xm=xo[0].toUpperCase()+xo.slice(1);Wt(Sm,"on"+xm)}Wt(Jd,"onAnimationEnd");Wt(Qd,"onAnimationIteration");Wt(Yd,"onAnimationStart");Wt("dblclick","onDoubleClick");Wt("focusin","onFocus");Wt("focusout","onBlur");Wt(Xd,"onTransitionEnd");Qr("onMouseEnter",["mouseout","mouseover"]);Qr("onMouseLeave",["mouseout","mouseover"]);Qr("onPointerEnter",["pointerout","pointerover"]);Qr("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Em=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sn));function ju(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Sp(n,t,void 0,e),e.currentTarget=null}function eh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ju(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ju(s,a,u),i=l}}}if(ai)throw e=ca,ai=!1,ca=null,e}function H(e,t){var r=t[_a];r===void 0&&(r=t[_a]=new Set);var n=e+"__bubble";r.has(n)||(th(t,e,2,!1),r.add(n))}function Eo(e,t,r){var n=0;t&&(n|=4),th(r,e,n,t)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function Hn(e){if(!e[Ts]){e[Ts]=!0,ld.forEach(function(r){r!=="selectionchange"&&(Em.has(r)||Eo(r,!1,e),Eo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ts]||(t[Ts]=!0,Eo("selectionchange",!1,t))}}function th(e,t,r,n){switch(Dd(t)){case 1:var s=zp;break;case 4:s=Mp;break;default:s=gl}r=s.bind(null,t,r,e),s=void 0,!ua||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Co(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=nr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}xd(function(){var u=i,c=hl(r),d=[];e:{var h=Zd.get(e);if(h!==void 0){var m=yl,v=e;switch(e){case"keypress":if(Js(r)===0)break e;case"keydown":case"keyup":m=tm;break;case"focusin":v="focus",m=wo;break;case"focusout":v="blur",m=wo;break;case"beforeblur":case"afterblur":m=wo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Wp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=sm;break;case Jd:case Qd:case Yd:m=qp;break;case Xd:m=om;break;case"scroll":m=Bp;break;case"wheel":m=lm;break;case"copy":case"cut":case"paste":m=Gp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=_u}var w=(t&4)!==0,k=!w&&e==="scroll",p=w?h!==null?h+"Capture":null:h;w=[];for(var f=u,g;f!==null;){g=f;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,p!==null&&(b=Dn(f,p),b!=null&&w.push(Vn(f,b,g)))),k)break;f=f.return}0<w.length&&(h=new m(h,v,null,r,c),d.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==aa&&(v=r.relatedTarget||r.fromElement)&&(nr(v)||v[mt]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?nr(v):null,v!==null&&(k=mr(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(w=yu,b="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=_u,b="onPointerLeave",p="onPointerEnter",f="pointer"),k=m==null?h:Lr(m),g=v==null?h:Lr(v),h=new w(b,f+"leave",m,r,c),h.target=k,h.relatedTarget=g,b=null,nr(c)===u&&(w=new w(p,f+"enter",v,r,c),w.target=g,w.relatedTarget=k,b=w),k=b,m&&v)t:{for(w=m,p=v,f=0,g=w;g;g=wr(g))f++;for(g=0,b=p;b;b=wr(b))g++;for(;0<f-g;)w=wr(w),f--;for(;0<g-f;)p=wr(p),g--;for(;f--;){if(w===p||p!==null&&w===p.alternate)break t;w=wr(w),p=wr(p)}w=null}else w=null;m!==null&&Ru(d,h,m,w,!1),v!==null&&k!==null&&Ru(d,k,v,w,!0)}}e:{if(h=u?Lr(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=mm;else if(Su(h))if(Hd)E=wm;else{E=vm;var C=gm}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=ym);if(E&&(E=E(e,u))){Wd(d,E,r,c);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&ra(h,"number",h.value)}switch(C=u?Lr(u):window,e){case"focusin":(Su(C)||C.contentEditable==="true")&&(Ar=C,pa=u,On=null);break;case"focusout":On=pa=Ar=null;break;case"mousedown":ma=!0;break;case"contextmenu":case"mouseup":case"dragend":ma=!1,Pu(d,r,c);break;case"selectionchange":if(bm)break;case"keydown":case"keyup":Pu(d,r,c)}var _;if(_l)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Nr?Bd(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(Md&&r.locale!=="ko"&&(Nr||S!=="onCompositionStart"?S==="onCompositionEnd"&&Nr&&(_=zd()):(Pt=c,vl="value"in Pt?Pt.value:Pt.textContent,Nr=!0)),C=hi(u,S),0<C.length&&(S=new wu(S,e,null,r,c),d.push({event:S,listeners:C}),_?S.data=_:(_=Fd(r),_!==null&&(S.data=_)))),(_=cm?dm(e,r):hm(e,r))&&(u=hi(u,"onBeforeInput"),0<u.length&&(c=new wu("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=_))}eh(d,t)})}function Vn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Dn(e,r),i!=null&&n.unshift(Vn(e,i,s)),i=Dn(e,t),i!=null&&n.push(Vn(e,i,s))),e=e.return}return n}function wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ru(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Dn(r,i),l!=null&&o.unshift(Vn(r,l,a))):s||(l=Dn(r,i),l!=null&&o.push(Vn(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Cm=/\r\n?/g,Tm=/\u0000|\uFFFD/g;function Nu(e){return(typeof e=="string"?e:""+e).replace(Cm,`
`).replace(Tm,"")}function Ps(e,t,r){if(t=Nu(t),Nu(e)!==t&&r)throw Error(T(425))}function fi(){}var ga=null,va=null;function ya(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wa=typeof setTimeout=="function"?setTimeout:void 0,Pm=typeof clearTimeout=="function"?clearTimeout:void 0,Au=typeof Promise=="function"?Promise:void 0,Om=typeof queueMicrotask=="function"?queueMicrotask:typeof Au<"u"?function(e){return Au.resolve(null).then(e).catch(jm)}:wa;function jm(e){setTimeout(function(){throw e})}function To(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Bn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Bn(t)}function Lt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Iu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var an=Math.random().toString(36).slice(2),nt="__reactFiber$"+an,qn="__reactProps$"+an,mt="__reactContainer$"+an,_a="__reactEvents$"+an,Rm="__reactListeners$"+an,Nm="__reactHandles$"+an;function nr(e){var t=e[nt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[mt]||r[nt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Iu(e);e!==null;){if(r=e[nt])return r;e=Iu(e)}return t}e=r,r=e.parentNode}return null}function ds(e){return e=e[nt]||e[mt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Lr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Bi(e){return e[qn]||null}var ka=[],$r=-1;function Ht(e){return{current:e}}function V(e){0>$r||(e.current=ka[$r],ka[$r]=null,$r--)}function W(e,t){$r++,ka[$r]=e.current,e.current=t}var Ft={},ye=Ht(Ft),Ce=Ht(!1),ur=Ft;function Yr(e,t){var r=e.type.contextTypes;if(!r)return Ft;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Te(e){return e=e.childContextTypes,e!=null}function pi(){V(Ce),V(ye)}function Lu(e,t,r){if(ye.current!==Ft)throw Error(T(168));W(ye,t),W(Ce,r)}function rh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(T(108,gp(e)||"Unknown",s));return Q({},r,n)}function mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ft,ur=ye.current,W(ye,e),W(Ce,Ce.current),!0}function $u(e,t,r){var n=e.stateNode;if(!n)throw Error(T(169));r?(e=rh(e,t,ur),n.__reactInternalMemoizedMergedChildContext=e,V(Ce),V(ye),W(ye,e)):V(Ce),W(Ce,r)}var ut=null,Fi=!1,Po=!1;function nh(e){ut===null?ut=[e]:ut.push(e)}function Am(e){Fi=!0,nh(e)}function Vt(){if(!Po&&ut!==null){Po=!0;var e=0,t=M;try{var r=ut;for(M=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ut=null,Fi=!1}catch(s){throw ut!==null&&(ut=ut.slice(e+1)),Pd(fl,Vt),s}finally{M=t,Po=!1}}return null}var Ur=[],Dr=0,gi=null,vi=0,Ue=[],De=0,cr=null,ct=1,dt="";function Xt(e,t){Ur[Dr++]=vi,Ur[Dr++]=gi,gi=e,vi=t}function sh(e,t,r){Ue[De++]=ct,Ue[De++]=dt,Ue[De++]=cr,cr=e;var n=ct;e=dt;var s=32-Xe(n)-1;n&=~(1<<s),r+=1;var i=32-Xe(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ct=1<<32-Xe(t)+s|r<<s|n,dt=i+e}else ct=1<<i|r<<s|n,dt=e}function bl(e){e.return!==null&&(Xt(e,1),sh(e,1,0))}function Sl(e){for(;e===gi;)gi=Ur[--Dr],Ur[Dr]=null,vi=Ur[--Dr],Ur[Dr]=null;for(;e===cr;)cr=Ue[--De],Ue[De]=null,dt=Ue[--De],Ue[De]=null,ct=Ue[--De],Ue[De]=null}var Ae=null,Ne=null,q=!1,Ye=null;function ih(e,t){var r=ze(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Uu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ae=e,Ne=Lt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ae=e,Ne=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=cr!==null?{id:ct,overflow:dt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ze(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ae=e,Ne=null,!0):!1;default:return!1}}function ba(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sa(e){if(q){var t=Ne;if(t){var r=t;if(!Uu(e,t)){if(ba(e))throw Error(T(418));t=Lt(r.nextSibling);var n=Ae;t&&Uu(e,t)?ih(n,r):(e.flags=e.flags&-4097|2,q=!1,Ae=e)}}else{if(ba(e))throw Error(T(418));e.flags=e.flags&-4097|2,q=!1,Ae=e}}}function Du(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ae=e}function Os(e){if(e!==Ae)return!1;if(!q)return Du(e),q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ya(e.type,e.memoizedProps)),t&&(t=Ne)){if(ba(e))throw oh(),Error(T(418));for(;t;)ih(e,t),t=Lt(t.nextSibling)}if(Du(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ne=Lt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ne=null}}else Ne=Ae?Lt(e.stateNode.nextSibling):null;return!0}function oh(){for(var e=Ne;e;)e=Lt(e.nextSibling)}function Xr(){Ne=Ae=null,q=!1}function xl(e){Ye===null?Ye=[e]:Ye.push(e)}var Im=yt.ReactCurrentBatchConfig;function gn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function js(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zu(e){var t=e._init;return t(e._payload)}function ah(e){function t(p,f){if(e){var g=p.deletions;g===null?(p.deletions=[f],p.flags|=16):g.push(f)}}function r(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function n(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function s(p,f){return p=zt(p,f),p.index=0,p.sibling=null,p}function i(p,f,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<f?(p.flags|=2,f):g):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,f,g,b){return f===null||f.tag!==6?(f=Lo(g,p.mode,b),f.return=p,f):(f=s(f,g),f.return=p,f)}function l(p,f,g,b){var E=g.type;return E===Rr?c(p,f,g.props.children,b,g.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===bt&&zu(E)===f.type)?(b=s(f,g.props),b.ref=gn(p,f,g),b.return=p,b):(b=ri(g.type,g.key,g.props,null,p.mode,b),b.ref=gn(p,f,g),b.return=p,b)}function u(p,f,g,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=$o(g,p.mode,b),f.return=p,f):(f=s(f,g.children||[]),f.return=p,f)}function c(p,f,g,b,E){return f===null||f.tag!==7?(f=lr(g,p.mode,b,E),f.return=p,f):(f=s(f,g),f.return=p,f)}function d(p,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Lo(""+f,p.mode,g),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ws:return g=ri(f.type,f.key,f.props,null,p.mode,g),g.ref=gn(p,null,f),g.return=p,g;case jr:return f=$o(f,p.mode,g),f.return=p,f;case bt:var b=f._init;return d(p,b(f._payload),g)}if(kn(f)||dn(f))return f=lr(f,p.mode,g,null),f.return=p,f;js(p,f)}return null}function h(p,f,g,b){var E=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:a(p,f,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ws:return g.key===E?l(p,f,g,b):null;case jr:return g.key===E?u(p,f,g,b):null;case bt:return E=g._init,h(p,f,E(g._payload),b)}if(kn(g)||dn(g))return E!==null?null:c(p,f,g,b,null);js(p,g)}return null}function m(p,f,g,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(g)||null,a(f,p,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ws:return p=p.get(b.key===null?g:b.key)||null,l(f,p,b,E);case jr:return p=p.get(b.key===null?g:b.key)||null,u(f,p,b,E);case bt:var C=b._init;return m(p,f,g,C(b._payload),E)}if(kn(b)||dn(b))return p=p.get(g)||null,c(f,p,b,E,null);js(f,b)}return null}function v(p,f,g,b){for(var E=null,C=null,_=f,S=f=0,j=null;_!==null&&S<g.length;S++){_.index>S?(j=_,_=null):j=_.sibling;var P=h(p,_,g[S],b);if(P===null){_===null&&(_=j);break}e&&_&&P.alternate===null&&t(p,_),f=i(P,f,S),C===null?E=P:C.sibling=P,C=P,_=j}if(S===g.length)return r(p,_),q&&Xt(p,S),E;if(_===null){for(;S<g.length;S++)_=d(p,g[S],b),_!==null&&(f=i(_,f,S),C===null?E=_:C.sibling=_,C=_);return q&&Xt(p,S),E}for(_=n(p,_);S<g.length;S++)j=m(_,p,S,g[S],b),j!==null&&(e&&j.alternate!==null&&_.delete(j.key===null?S:j.key),f=i(j,f,S),C===null?E=j:C.sibling=j,C=j);return e&&_.forEach(function(L){return t(p,L)}),q&&Xt(p,S),E}function w(p,f,g,b){var E=dn(g);if(typeof E!="function")throw Error(T(150));if(g=E.call(g),g==null)throw Error(T(151));for(var C=E=null,_=f,S=f=0,j=null,P=g.next();_!==null&&!P.done;S++,P=g.next()){_.index>S?(j=_,_=null):j=_.sibling;var L=h(p,_,P.value,b);if(L===null){_===null&&(_=j);break}e&&_&&L.alternate===null&&t(p,_),f=i(L,f,S),C===null?E=L:C.sibling=L,C=L,_=j}if(P.done)return r(p,_),q&&Xt(p,S),E;if(_===null){for(;!P.done;S++,P=g.next())P=d(p,P.value,b),P!==null&&(f=i(P,f,S),C===null?E=P:C.sibling=P,C=P);return q&&Xt(p,S),E}for(_=n(p,_);!P.done;S++,P=g.next())P=m(_,p,S,P.value,b),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?S:P.key),f=i(P,f,S),C===null?E=P:C.sibling=P,C=P);return e&&_.forEach(function(B){return t(p,B)}),q&&Xt(p,S),E}function k(p,f,g,b){if(typeof g=="object"&&g!==null&&g.type===Rr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ws:e:{for(var E=g.key,C=f;C!==null;){if(C.key===E){if(E=g.type,E===Rr){if(C.tag===7){r(p,C.sibling),f=s(C,g.props.children),f.return=p,p=f;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===bt&&zu(E)===C.type){r(p,C.sibling),f=s(C,g.props),f.ref=gn(p,C,g),f.return=p,p=f;break e}r(p,C);break}else t(p,C);C=C.sibling}g.type===Rr?(f=lr(g.props.children,p.mode,b,g.key),f.return=p,p=f):(b=ri(g.type,g.key,g.props,null,p.mode,b),b.ref=gn(p,f,g),b.return=p,p=b)}return o(p);case jr:e:{for(C=g.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){r(p,f.sibling),f=s(f,g.children||[]),f.return=p,p=f;break e}else{r(p,f);break}else t(p,f);f=f.sibling}f=$o(g,p.mode,b),f.return=p,p=f}return o(p);case bt:return C=g._init,k(p,f,C(g._payload),b)}if(kn(g))return v(p,f,g,b);if(dn(g))return w(p,f,g,b);js(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(r(p,f.sibling),f=s(f,g),f.return=p,p=f):(r(p,f),f=Lo(g,p.mode,b),f.return=p,p=f),o(p)):r(p,f)}return k}var Zr=ah(!0),lh=ah(!1),yi=Ht(null),wi=null,zr=null,El=null;function Cl(){El=zr=wi=null}function Tl(e){var t=yi.current;V(yi),e._currentValue=t}function xa(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Kr(e,t){wi=e,El=zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ee=!0),e.firstContext=null)}function Be(e){var t=e._currentValue;if(El!==e)if(e={context:e,memoizedValue:t,next:null},zr===null){if(wi===null)throw Error(T(308));zr=e,wi.dependencies={lanes:0,firstContext:e}}else zr=zr.next=e;return t}var sr=null;function Pl(e){sr===null?sr=[e]:sr.push(e)}function uh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Pl(t)):(r.next=s.next,s.next=r),t.interleaved=r,gt(e,n)}function gt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var St=!1;function Ol(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ch(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $t(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,z&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,gt(e,r)}return s=n.interleaved,s===null?(t.next=t,Pl(n)):(t.next=s.next,s.next=t),n.interleaved=t,gt(e,r)}function Qs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pl(e,r)}}function Mu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _i(e,t,r,n){var s=e.updateQueue;St=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,w=a;switch(h=t,m=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(m,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(m,d,h):v,h==null)break e;d=Q({},d,h);break e;case 2:St=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);hr|=o,e.lanes=o,e.memoizedState=d}}function Bu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var hs={},it=Ht(hs),Kn=Ht(hs),Gn=Ht(hs);function ir(e){if(e===hs)throw Error(T(174));return e}function jl(e,t){switch(W(Gn,t),W(Kn,e),W(it,hs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sa(t,e)}V(it),W(it,t)}function en(){V(it),V(Kn),V(Gn)}function dh(e){ir(Gn.current);var t=ir(it.current),r=sa(t,e.type);t!==r&&(W(Kn,e),W(it,r))}function Rl(e){Kn.current===e&&(V(it),V(Kn))}var K=Ht(0);function ki(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oo=[];function Nl(){for(var e=0;e<Oo.length;e++)Oo[e]._workInProgressVersionPrimary=null;Oo.length=0}var Ys=yt.ReactCurrentDispatcher,jo=yt.ReactCurrentBatchConfig,dr=0,G=null,ie=null,le=null,bi=!1,jn=!1,Jn=0,Lm=0;function me(){throw Error(T(321))}function Al(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!et(e[r],t[r]))return!1;return!0}function Il(e,t,r,n,s,i){if(dr=i,G=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ys.current=e===null||e.memoizedState===null?zm:Mm,e=r(n,s),jn){i=0;do{if(jn=!1,Jn=0,25<=i)throw Error(T(301));i+=1,le=ie=null,t.updateQueue=null,Ys.current=Bm,e=r(n,s)}while(jn)}if(Ys.current=Si,t=ie!==null&&ie.next!==null,dr=0,le=ie=G=null,bi=!1,t)throw Error(T(300));return e}function Ll(){var e=Jn!==0;return Jn=0,e}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?G.memoizedState=le=e:le=le.next=e,le}function Fe(){if(ie===null){var e=G.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var t=le===null?G.memoizedState:le.next;if(t!==null)le=t,ie=e;else{if(e===null)throw Error(T(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},le===null?G.memoizedState=le=e:le=le.next=e}return le}function Qn(e,t){return typeof t=="function"?t(e):t}function Ro(e){var t=Fe(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=ie,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((dr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,G.lanes|=c,hr|=c}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,et(n,t.memoizedState)||(Ee=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,G.lanes|=i,hr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function No(e){var t=Fe(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);et(i,t.memoizedState)||(Ee=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function hh(){}function fh(e,t){var r=G,n=Fe(),s=t(),i=!et(n.memoizedState,s);if(i&&(n.memoizedState=s,Ee=!0),n=n.queue,$l(gh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||le!==null&&le.memoizedState.tag&1){if(r.flags|=2048,Yn(9,mh.bind(null,r,n,s,t),void 0,null),ue===null)throw Error(T(349));dr&30||ph(r,t,s)}return s}function ph(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=G.updateQueue,t===null?(t={lastEffect:null,stores:null},G.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function mh(e,t,r,n){t.value=r,t.getSnapshot=n,vh(t)&&yh(e)}function gh(e,t,r){return r(function(){vh(t)&&yh(e)})}function vh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!et(e,r)}catch{return!0}}function yh(e){var t=gt(e,1);t!==null&&Ze(t,e,1,-1)}function Fu(e){var t=rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:e},t.queue=e,e=e.dispatch=Dm.bind(null,G,e),[t.memoizedState,e]}function Yn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=G.updateQueue,t===null?(t={lastEffect:null,stores:null},G.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function wh(){return Fe().memoizedState}function Xs(e,t,r,n){var s=rt();G.flags|=e,s.memoizedState=Yn(1|t,r,void 0,n===void 0?null:n)}function Wi(e,t,r,n){var s=Fe();n=n===void 0?null:n;var i=void 0;if(ie!==null){var o=ie.memoizedState;if(i=o.destroy,n!==null&&Al(n,o.deps)){s.memoizedState=Yn(t,r,i,n);return}}G.flags|=e,s.memoizedState=Yn(1|t,r,i,n)}function Wu(e,t){return Xs(8390656,8,e,t)}function $l(e,t){return Wi(2048,8,e,t)}function _h(e,t){return Wi(4,2,e,t)}function kh(e,t){return Wi(4,4,e,t)}function bh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sh(e,t,r){return r=r!=null?r.concat([e]):null,Wi(4,4,bh.bind(null,t,e),r)}function Ul(){}function xh(e,t){var r=Fe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Al(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Eh(e,t){var r=Fe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Al(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ch(e,t,r){return dr&21?(et(r,t)||(r=Rd(),G.lanes|=r,hr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ee=!0),e.memoizedState=r)}function $m(e,t){var r=M;M=r!==0&&4>r?r:4,e(!0);var n=jo.transition;jo.transition={};try{e(!1),t()}finally{M=r,jo.transition=n}}function Th(){return Fe().memoizedState}function Um(e,t,r){var n=Dt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ph(e))Oh(t,r);else if(r=uh(e,t,r,n),r!==null){var s=_e();Ze(r,e,n,s),jh(r,t,n)}}function Dm(e,t,r){var n=Dt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ph(e))Oh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,et(a,o)){var l=t.interleaved;l===null?(s.next=s,Pl(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=uh(e,t,s,n),r!==null&&(s=_e(),Ze(r,e,n,s),jh(r,t,n))}}function Ph(e){var t=e.alternate;return e===G||t!==null&&t===G}function Oh(e,t){jn=bi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pl(e,r)}}var Si={readContext:Be,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},zm={readContext:Be,useCallback:function(e,t){return rt().memoizedState=[e,t===void 0?null:t],e},useContext:Be,useEffect:Wu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xs(4194308,4,bh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xs(4,2,e,t)},useMemo:function(e,t){var r=rt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=rt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Um.bind(null,G,e),[n.memoizedState,e]},useRef:function(e){var t=rt();return e={current:e},t.memoizedState=e},useState:Fu,useDebugValue:Ul,useDeferredValue:function(e){return rt().memoizedState=e},useTransition:function(){var e=Fu(!1),t=e[0];return e=$m.bind(null,e[1]),rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=G,s=rt();if(q){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),ue===null)throw Error(T(349));dr&30||ph(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Wu(gh.bind(null,n,i,e),[e]),n.flags|=2048,Yn(9,mh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=rt(),t=ue.identifierPrefix;if(q){var r=dt,n=ct;r=(n&~(1<<32-Xe(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Lm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mm={readContext:Be,useCallback:xh,useContext:Be,useEffect:$l,useImperativeHandle:Sh,useInsertionEffect:_h,useLayoutEffect:kh,useMemo:Eh,useReducer:Ro,useRef:wh,useState:function(){return Ro(Qn)},useDebugValue:Ul,useDeferredValue:function(e){var t=Fe();return Ch(t,ie.memoizedState,e)},useTransition:function(){var e=Ro(Qn)[0],t=Fe().memoizedState;return[e,t]},useMutableSource:hh,useSyncExternalStore:fh,useId:Th,unstable_isNewReconciler:!1},Bm={readContext:Be,useCallback:xh,useContext:Be,useEffect:$l,useImperativeHandle:Sh,useInsertionEffect:_h,useLayoutEffect:kh,useMemo:Eh,useReducer:No,useRef:wh,useState:function(){return No(Qn)},useDebugValue:Ul,useDeferredValue:function(e){var t=Fe();return ie===null?t.memoizedState=e:Ch(t,ie.memoizedState,e)},useTransition:function(){var e=No(Qn)[0],t=Fe().memoizedState;return[e,t]},useMutableSource:hh,useSyncExternalStore:fh,useId:Th,unstable_isNewReconciler:!1};function qe(e,t){if(e&&e.defaultProps){t=Q({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ea(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Q({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hi={isMounted:function(e){return(e=e._reactInternals)?mr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_e(),s=Dt(e),i=ft(n,s);i.payload=t,r!=null&&(i.callback=r),t=$t(e,i,s),t!==null&&(Ze(t,e,s,n),Qs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_e(),s=Dt(e),i=ft(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=$t(e,i,s),t!==null&&(Ze(t,e,s,n),Qs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_e(),n=Dt(e),s=ft(r,n);s.tag=2,t!=null&&(s.callback=t),t=$t(e,s,n),t!==null&&(Ze(t,e,n,r),Qs(t,e,n))}};function Hu(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Wn(r,n)||!Wn(s,i):!0}function Rh(e,t,r){var n=!1,s=Ft,i=t.contextType;return typeof i=="object"&&i!==null?i=Be(i):(s=Te(t)?ur:ye.current,n=t.contextTypes,i=(n=n!=null)?Yr(e,s):Ft),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Vu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Hi.enqueueReplaceState(t,t.state,null)}function Ca(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Ol(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Be(i):(i=Te(t)?ur:ye.current,s.context=Yr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ea(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Hi.enqueueReplaceState(s,s.state,null),_i(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function tn(e,t){try{var r="",n=t;do r+=mp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ao(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ta(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Fm=typeof WeakMap=="function"?WeakMap:Map;function Nh(e,t,r){r=ft(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ei||(Ei=!0,Ua=n),Ta(e,t)},r}function Ah(e,t,r){r=ft(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Ta(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ta(e,t),typeof n!="function"&&(Ut===null?Ut=new Set([this]):Ut.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function qu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Fm;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=rg.bind(null,e,t,r),t.then(e,e))}function Ku(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ft(-1,1),t.tag=2,$t(r,t,1))),r.lanes|=1),e)}var Wm=yt.ReactCurrentOwner,Ee=!1;function we(e,t,r,n){t.child=e===null?lh(t,null,r,n):Zr(t,e.child,r,n)}function Ju(e,t,r,n,s){r=r.render;var i=t.ref;return Kr(t,s),n=Il(e,t,r,n,i,s),r=Ll(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vt(e,t,s)):(q&&r&&bl(t),t.flags|=1,we(e,t,n,s),t.child)}function Qu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Vl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Ih(e,t,i,n,s)):(e=ri(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Wn,r(o,n)&&e.ref===t.ref)return vt(e,t,s)}return t.flags|=1,e=zt(i,n),e.ref=t.ref,e.return=t,t.child=e}function Ih(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Wn(i,n)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,vt(e,t,s)}return Pa(e,t,r,n,s)}function Lh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},W(Br,je),je|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,W(Br,je),je|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,W(Br,je),je|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,W(Br,je),je|=n;return we(e,t,s,r),t.child}function $h(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Pa(e,t,r,n,s){var i=Te(r)?ur:ye.current;return i=Yr(t,i),Kr(t,s),r=Il(e,t,r,n,i,s),n=Ll(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vt(e,t,s)):(q&&n&&bl(t),t.flags|=1,we(e,t,r,s),t.child)}function Yu(e,t,r,n,s){if(Te(r)){var i=!0;mi(t)}else i=!1;if(Kr(t,s),t.stateNode===null)Zs(e,t),Rh(t,r,n),Ca(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Be(u):(u=Te(r)?ur:ye.current,u=Yr(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Vu(t,o,n,u),St=!1;var h=t.memoizedState;o.state=h,_i(t,n,o,s),l=t.memoizedState,a!==n||h!==l||Ce.current||St?(typeof c=="function"&&(Ea(t,r,c,n),l=t.memoizedState),(a=St||Hu(t,r,a,n,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,ch(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:qe(t.type,a),o.props=u,d=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Be(l):(l=Te(r)?ur:ye.current,l=Yr(t,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Vu(t,o,n,l),St=!1,h=t.memoizedState,o.state=h,_i(t,n,o,s);var v=t.memoizedState;a!==d||h!==v||Ce.current||St?(typeof m=="function"&&(Ea(t,r,m,n),v=t.memoizedState),(u=St||Hu(t,r,u,n,h,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Oa(e,t,r,n,i,s)}function Oa(e,t,r,n,s,i){$h(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&$u(t,r,!1),vt(e,t,i);n=t.stateNode,Wm.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Zr(t,e.child,null,i),t.child=Zr(t,null,a,i)):we(e,t,a,i),t.memoizedState=n.state,s&&$u(t,r,!0),t.child}function Uh(e){var t=e.stateNode;t.pendingContext?Lu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lu(e,t.context,!1),jl(e,t.containerInfo)}function Xu(e,t,r,n,s){return Xr(),xl(s),t.flags|=256,we(e,t,r,n),t.child}var ja={dehydrated:null,treeContext:null,retryLane:0};function Ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dh(e,t,r){var n=t.pendingProps,s=K.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),W(K,s&1),e===null)return Sa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ki(o,n,0,null),e=lr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ra(r),t.memoizedState=ja,e):Dl(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Hm(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=zt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=zt(a,i):(i=lr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Ra(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=ja,n}return i=e.child,e=i.sibling,n=zt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Dl(e,t){return t=Ki({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rs(e,t,r,n){return n!==null&&xl(n),Zr(t,e.child,null,r),e=Dl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hm(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Ao(Error(T(422))),Rs(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ki({mode:"visible",children:n.children},s,0,null),i=lr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Zr(t,e.child,null,o),t.child.memoizedState=Ra(o),t.memoizedState=ja,i);if(!(t.mode&1))return Rs(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(T(419)),n=Ao(i,n,void 0),Rs(e,t,o,n)}if(a=(o&e.childLanes)!==0,Ee||a){if(n=ue,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gt(e,s),Ze(n,e,s,-1))}return Hl(),n=Ao(Error(T(421))),Rs(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ng.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ne=Lt(s.nextSibling),Ae=t,q=!0,Ye=null,e!==null&&(Ue[De++]=ct,Ue[De++]=dt,Ue[De++]=cr,ct=e.id,dt=e.overflow,cr=t),t=Dl(t,n.children),t.flags|=4096,t)}function Zu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),xa(e.return,t,r)}function Io(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function zh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(we(e,t,n.children,r),n=K.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zu(e,r,t);else if(e.tag===19)Zu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(W(K,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ki(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Io(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ki(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Io(t,!0,r,null,i);break;case"together":Io(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),hr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=zt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=zt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Vm(e,t,r){switch(t.tag){case 3:Uh(t),Xr();break;case 5:dh(t);break;case 1:Te(t.type)&&mi(t);break;case 4:jl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;W(yi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(W(K,K.current&1),t.flags|=128,null):r&t.child.childLanes?Dh(e,t,r):(W(K,K.current&1),e=vt(e,t,r),e!==null?e.sibling:null);W(K,K.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return zh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),W(K,K.current),n)break;return null;case 22:case 23:return t.lanes=0,Lh(e,t,r)}return vt(e,t,r)}var Mh,Na,Bh,Fh;Mh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Na=function(){};Bh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ir(it.current);var i=null;switch(r){case"input":s=ea(e,s),n=ea(e,n),i=[];break;case"select":s=Q({},s,{value:void 0}),n=Q({},n,{value:void 0}),i=[];break;case"textarea":s=na(e,s),n=na(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=fi)}ia(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($n.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($n.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&H("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Fh=function(e,t,r,n){r!==n&&(t.flags|=4)};function vn(e,t){if(!q)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function qm(e,t,r){var n=t.pendingProps;switch(Sl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return Te(t.type)&&pi(),ge(t),null;case 3:return n=t.stateNode,en(),V(Ce),V(ye),Nl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Os(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ye!==null&&(Ma(Ye),Ye=null))),Na(e,t),ge(t),null;case 5:Rl(t);var s=ir(Gn.current);if(r=t.type,e!==null&&t.stateNode!=null)Bh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(T(166));return ge(t),null}if(e=ir(it.current),Os(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[nt]=t,n[qn]=i,e=(t.mode&1)!==0,r){case"dialog":H("cancel",n),H("close",n);break;case"iframe":case"object":case"embed":H("load",n);break;case"video":case"audio":for(s=0;s<Sn.length;s++)H(Sn[s],n);break;case"source":H("error",n);break;case"img":case"image":case"link":H("error",n),H("load",n);break;case"details":H("toggle",n);break;case"input":lu(n,i),H("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},H("invalid",n);break;case"textarea":cu(n,i),H("invalid",n)}ia(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ps(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ps(n.textContent,a,e),s=["children",""+a]):$n.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&H("scroll",n)}switch(r){case"input":_s(n),uu(n,i,!0);break;case"textarea":_s(n),du(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=fi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[nt]=t,e[qn]=n,Mh(e,t,!1,!1),t.stateNode=e;e:{switch(o=oa(r,n),r){case"dialog":H("cancel",e),H("close",e),s=n;break;case"iframe":case"object":case"embed":H("load",e),s=n;break;case"video":case"audio":for(s=0;s<Sn.length;s++)H(Sn[s],e);s=n;break;case"source":H("error",e),s=n;break;case"img":case"image":case"link":H("error",e),H("load",e),s=n;break;case"details":H("toggle",e),s=n;break;case"input":lu(e,n),s=ea(e,n),H("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Q({},n,{value:void 0}),H("invalid",e);break;case"textarea":cu(e,n),s=na(e,n),H("invalid",e);break;default:s=n}ia(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?wd(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vd(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Un(e,l):typeof l=="number"&&Un(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($n.hasOwnProperty(i)?l!=null&&i==="onScroll"&&H("scroll",e):l!=null&&ll(e,i,l,o))}switch(r){case"input":_s(e),uu(e,n,!1);break;case"textarea":_s(e),du(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Bt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Wr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Wr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=fi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)Fh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(r=ir(Gn.current),ir(it.current),Os(t)){if(n=t.stateNode,r=t.memoizedProps,n[nt]=t,(i=n.nodeValue!==r)&&(e=Ae,e!==null))switch(e.tag){case 3:Ps(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ps(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nt]=t,t.stateNode=n}return ge(t),null;case 13:if(V(K),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(q&&Ne!==null&&t.mode&1&&!(t.flags&128))oh(),Xr(),t.flags|=98560,i=!1;else if(i=Os(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[nt]=t}else Xr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),i=!1}else Ye!==null&&(Ma(Ye),Ye=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||K.current&1?oe===0&&(oe=3):Hl())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return en(),Na(e,t),e===null&&Hn(t.stateNode.containerInfo),ge(t),null;case 10:return Tl(t.type._context),ge(t),null;case 17:return Te(t.type)&&pi(),ge(t),null;case 19:if(V(K),i=t.memoizedState,i===null)return ge(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)vn(i,!1);else{if(oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ki(e),o!==null){for(t.flags|=128,vn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return W(K,K.current&1|2),t.child}e=e.sibling}i.tail!==null&&te()>rn&&(t.flags|=128,n=!0,vn(i,!1),t.lanes=4194304)}else{if(!n)if(e=ki(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),vn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!q)return ge(t),null}else 2*te()-i.renderingStartTime>rn&&r!==1073741824&&(t.flags|=128,n=!0,vn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,r=K.current,W(K,n?r&1|2:r&1),t):(ge(t),null);case 22:case 23:return Wl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?je&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Km(e,t){switch(Sl(t),t.tag){case 1:return Te(t.type)&&pi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return en(),V(Ce),V(ye),Nl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rl(t),null;case 13:if(V(K),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(K),null;case 4:return en(),null;case 10:return Tl(t.type._context),null;case 22:case 23:return Wl(),null;case 24:return null;default:return null}}var Ns=!1,ve=!1,Gm=typeof WeakSet=="function"?WeakSet:Set,O=null;function Mr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Z(e,t,n)}else r.current=null}function Aa(e,t,r){try{r()}catch(n){Z(e,t,n)}}var ec=!1;function Jm(e,t){if(ga=ci,e=Kd(),kl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var m;d!==r||s!==0&&d.nodeType!==3||(a=o+s),d!==i||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===r&&++u===s&&(a=o),h===i&&++c===n&&(l=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(va={focusedElem:e,selectionRange:r},ci=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,k=v.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:qe(t.type,w),k);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(b){Z(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return v=ec,ec=!1,v}function Rn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Aa(t,r,i)}s=s.next}while(s!==n)}}function Vi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ia(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Wh(e){var t=e.alternate;t!==null&&(e.alternate=null,Wh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nt],delete t[qn],delete t[_a],delete t[Rm],delete t[Nm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hh(e){return e.tag===5||e.tag===3||e.tag===4}function tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function La(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=fi));else if(n!==4&&(e=e.child,e!==null))for(La(e,t,r),e=e.sibling;e!==null;)La(e,t,r),e=e.sibling}function $a(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for($a(e,t,r),e=e.sibling;e!==null;)$a(e,t,r),e=e.sibling}var he=null,Ge=!1;function kt(e,t,r){for(r=r.child;r!==null;)Vh(e,t,r),r=r.sibling}function Vh(e,t,r){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Ui,r)}catch{}switch(r.tag){case 5:ve||Mr(r,t);case 6:var n=he,s=Ge;he=null,kt(e,t,r),he=n,Ge=s,he!==null&&(Ge?(e=he,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):he.removeChild(r.stateNode));break;case 18:he!==null&&(Ge?(e=he,r=r.stateNode,e.nodeType===8?To(e.parentNode,r):e.nodeType===1&&To(e,r),Bn(e)):To(he,r.stateNode));break;case 4:n=he,s=Ge,he=r.stateNode.containerInfo,Ge=!0,kt(e,t,r),he=n,Ge=s;break;case 0:case 11:case 14:case 15:if(!ve&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Aa(r,t,o),s=s.next}while(s!==n)}kt(e,t,r);break;case 1:if(!ve&&(Mr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Z(r,t,a)}kt(e,t,r);break;case 21:kt(e,t,r);break;case 22:r.mode&1?(ve=(n=ve)||r.memoizedState!==null,kt(e,t,r),ve=n):kt(e,t,r);break;default:kt(e,t,r)}}function rc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Gm),t.forEach(function(n){var s=sg.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function He(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:he=a.stateNode,Ge=!1;break e;case 3:he=a.stateNode.containerInfo,Ge=!0;break e;case 4:he=a.stateNode.containerInfo,Ge=!0;break e}a=a.return}if(he===null)throw Error(T(160));Vh(i,o,s),he=null,Ge=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Z(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qh(t,e),t=t.sibling}function qh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(He(t,e),tt(e),n&4){try{Rn(3,e,e.return),Vi(3,e)}catch(w){Z(e,e.return,w)}try{Rn(5,e,e.return)}catch(w){Z(e,e.return,w)}}break;case 1:He(t,e),tt(e),n&512&&r!==null&&Mr(r,r.return);break;case 5:if(He(t,e),tt(e),n&512&&r!==null&&Mr(r,r.return),e.flags&32){var s=e.stateNode;try{Un(s,"")}catch(w){Z(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&pd(s,i),oa(a,o);var u=oa(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?wd(s,d):c==="dangerouslySetInnerHTML"?vd(s,d):c==="children"?Un(s,d):ll(s,c,d,u)}switch(a){case"input":ta(s,i);break;case"textarea":md(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Wr(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Wr(s,!!i.multiple,i.defaultValue,!0):Wr(s,!!i.multiple,i.multiple?[]:"",!1))}s[qn]=i}catch(w){Z(e,e.return,w)}}break;case 6:if(He(t,e),tt(e),n&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){Z(e,e.return,w)}}break;case 3:if(He(t,e),tt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Bn(t.containerInfo)}catch(w){Z(e,e.return,w)}break;case 4:He(t,e),tt(e);break;case 13:He(t,e),tt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Bl=te())),n&4&&rc(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(ve=(u=ve)||c,He(t,e),ve=u):He(t,e),tt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(O=e,c=e.child;c!==null;){for(d=O=c;O!==null;){switch(h=O,m=h.child,h.tag){case 0:case 11:case 14:case 15:Rn(4,h,h.return);break;case 1:Mr(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){Z(n,r,w)}}break;case 5:Mr(h,h.return);break;case 22:if(h.memoizedState!==null){sc(d);continue}}m!==null?(m.return=h,O=m):sc(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yd("display",o))}catch(w){Z(e,e.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){Z(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:He(t,e),tt(e),n&4&&rc(e);break;case 21:break;default:He(t,e),tt(e)}}function tt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Hh(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Un(s,""),n.flags&=-33);var i=tc(e);$a(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=tc(e);La(e,a,o);break;default:throw Error(T(161))}}catch(l){Z(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qm(e,t,r){O=e,Kh(e)}function Kh(e,t,r){for(var n=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ns;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ve;a=Ns;var u=ve;if(Ns=o,(ve=l)&&!u)for(O=s;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?ic(s):l!==null?(l.return=o,O=l):ic(s);for(;i!==null;)O=i,Kh(i),i=i.sibling;O=s,Ns=a,ve=u}nc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):nc(e)}}function nc(e){for(;O!==null;){var t=O;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ve||Vi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ve)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:qe(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Bu(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Bu(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Bn(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}ve||t.flags&512&&Ia(t)}catch(h){Z(t,t.return,h)}}if(t===e){O=null;break}if(r=t.sibling,r!==null){r.return=t.return,O=r;break}O=t.return}}function sc(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var r=t.sibling;if(r!==null){r.return=t.return,O=r;break}O=t.return}}function ic(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Vi(4,t)}catch(l){Z(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){Z(t,s,l)}}var i=t.return;try{Ia(t)}catch(l){Z(t,i,l)}break;case 5:var o=t.return;try{Ia(t)}catch(l){Z(t,o,l)}}}catch(l){Z(t,t.return,l)}if(t===e){O=null;break}var a=t.sibling;if(a!==null){a.return=t.return,O=a;break}O=t.return}}var Ym=Math.ceil,xi=yt.ReactCurrentDispatcher,zl=yt.ReactCurrentOwner,Me=yt.ReactCurrentBatchConfig,z=0,ue=null,ne=null,fe=0,je=0,Br=Ht(0),oe=0,Xn=null,hr=0,qi=0,Ml=0,Nn=null,xe=null,Bl=0,rn=1/0,at=null,Ei=!1,Ua=null,Ut=null,As=!1,Ot=null,Ci=0,An=0,Da=null,ei=-1,ti=0;function _e(){return z&6?te():ei!==-1?ei:ei=te()}function Dt(e){return e.mode&1?z&2&&fe!==0?fe&-fe:Im.transition!==null?(ti===0&&(ti=Rd()),ti):(e=M,e!==0||(e=window.event,e=e===void 0?16:Dd(e.type)),e):1}function Ze(e,t,r,n){if(50<An)throw An=0,Da=null,Error(T(185));us(e,r,n),(!(z&2)||e!==ue)&&(e===ue&&(!(z&2)&&(qi|=r),oe===4&&Ct(e,fe)),Pe(e,n),r===1&&z===0&&!(t.mode&1)&&(rn=te()+500,Fi&&Vt()))}function Pe(e,t){var r=e.callbackNode;Ip(e,t);var n=ui(e,e===ue?fe:0);if(n===0)r!==null&&pu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&pu(r),t===1)e.tag===0?Am(oc.bind(null,e)):nh(oc.bind(null,e)),Om(function(){!(z&6)&&Vt()}),r=null;else{switch(Nd(n)){case 1:r=fl;break;case 4:r=Od;break;case 16:r=li;break;case 536870912:r=jd;break;default:r=li}r=tf(r,Gh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Gh(e,t){if(ei=-1,ti=0,z&6)throw Error(T(327));var r=e.callbackNode;if(Gr()&&e.callbackNode!==r)return null;var n=ui(e,e===ue?fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ti(e,n);else{t=n;var s=z;z|=2;var i=Qh();(ue!==e||fe!==t)&&(at=null,rn=te()+500,ar(e,t));do try{eg();break}catch(a){Jh(e,a)}while(!0);Cl(),xi.current=i,z=s,ne!==null?t=0:(ue=null,fe=0,t=oe)}if(t!==0){if(t===2&&(s=da(e),s!==0&&(n=s,t=za(e,s))),t===1)throw r=Xn,ar(e,0),Ct(e,n),Pe(e,te()),r;if(t===6)Ct(e,n);else{if(s=e.current.alternate,!(n&30)&&!Xm(s)&&(t=Ti(e,n),t===2&&(i=da(e),i!==0&&(n=i,t=za(e,i))),t===1))throw r=Xn,ar(e,0),Ct(e,n),Pe(e,te()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(T(345));case 2:Zt(e,xe,at);break;case 3:if(Ct(e,n),(n&130023424)===n&&(t=Bl+500-te(),10<t)){if(ui(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){_e(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=wa(Zt.bind(null,e,xe,at),t);break}Zt(e,xe,at);break;case 4:if(Ct(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Xe(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=te()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ym(n/1960))-n,10<n){e.timeoutHandle=wa(Zt.bind(null,e,xe,at),n);break}Zt(e,xe,at);break;case 5:Zt(e,xe,at);break;default:throw Error(T(329))}}}return Pe(e,te()),e.callbackNode===r?Gh.bind(null,e):null}function za(e,t){var r=Nn;return e.current.memoizedState.isDehydrated&&(ar(e,t).flags|=256),e=Ti(e,t),e!==2&&(t=xe,xe=r,t!==null&&Ma(t)),e}function Ma(e){xe===null?xe=e:xe.push.apply(xe,e)}function Xm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!et(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ct(e,t){for(t&=~Ml,t&=~qi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Xe(t),n=1<<r;e[r]=-1,t&=~n}}function oc(e){if(z&6)throw Error(T(327));Gr();var t=ui(e,0);if(!(t&1))return Pe(e,te()),null;var r=Ti(e,t);if(e.tag!==0&&r===2){var n=da(e);n!==0&&(t=n,r=za(e,n))}if(r===1)throw r=Xn,ar(e,0),Ct(e,t),Pe(e,te()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zt(e,xe,at),Pe(e,te()),null}function Fl(e,t){var r=z;z|=1;try{return e(t)}finally{z=r,z===0&&(rn=te()+500,Fi&&Vt())}}function fr(e){Ot!==null&&Ot.tag===0&&!(z&6)&&Gr();var t=z;z|=1;var r=Me.transition,n=M;try{if(Me.transition=null,M=1,e)return e()}finally{M=n,Me.transition=r,z=t,!(z&6)&&Vt()}}function Wl(){je=Br.current,V(Br)}function ar(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Pm(r)),ne!==null)for(r=ne.return;r!==null;){var n=r;switch(Sl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&pi();break;case 3:en(),V(Ce),V(ye),Nl();break;case 5:Rl(n);break;case 4:en();break;case 13:V(K);break;case 19:V(K);break;case 10:Tl(n.type._context);break;case 22:case 23:Wl()}r=r.return}if(ue=e,ne=e=zt(e.current,null),fe=je=t,oe=0,Xn=null,Ml=qi=hr=0,xe=Nn=null,sr!==null){for(t=0;t<sr.length;t++)if(r=sr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}sr=null}return e}function Jh(e,t){do{var r=ne;try{if(Cl(),Ys.current=Si,bi){for(var n=G.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}bi=!1}if(dr=0,le=ie=G=null,jn=!1,Jn=0,zl.current=null,r===null||r.return===null){oe=1,Xn=t,ne=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=fe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Ku(o);if(m!==null){m.flags&=-257,Gu(m,o,a,i,t),m.mode&1&&qu(i,u,t),t=m,l=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(l),t.updateQueue=w}else v.add(l);break e}else{if(!(t&1)){qu(i,u,t),Hl();break e}l=Error(T(426))}}else if(q&&a.mode&1){var k=Ku(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Gu(k,o,a,i,t),xl(tn(l,a));break e}}i=l=tn(l,a),oe!==4&&(oe=2),Nn===null?Nn=[i]:Nn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Nh(i,l,t);Mu(i,p);break e;case 1:a=l;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ut===null||!Ut.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Ah(i,a,t);Mu(i,b);break e}}i=i.return}while(i!==null)}Xh(r)}catch(E){t=E,ne===r&&r!==null&&(ne=r=r.return);continue}break}while(!0)}function Qh(){var e=xi.current;return xi.current=Si,e===null?Si:e}function Hl(){(oe===0||oe===3||oe===2)&&(oe=4),ue===null||!(hr&268435455)&&!(qi&268435455)||Ct(ue,fe)}function Ti(e,t){var r=z;z|=2;var n=Qh();(ue!==e||fe!==t)&&(at=null,ar(e,t));do try{Zm();break}catch(s){Jh(e,s)}while(!0);if(Cl(),z=r,xi.current=n,ne!==null)throw Error(T(261));return ue=null,fe=0,oe}function Zm(){for(;ne!==null;)Yh(ne)}function eg(){for(;ne!==null&&!Ep();)Yh(ne)}function Yh(e){var t=ef(e.alternate,e,je);e.memoizedProps=e.pendingProps,t===null?Xh(e):ne=t,zl.current=null}function Xh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Km(r,t),r!==null){r.flags&=32767,ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{oe=6,ne=null;return}}else if(r=qm(r,t,je),r!==null){ne=r;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);oe===0&&(oe=5)}function Zt(e,t,r){var n=M,s=Me.transition;try{Me.transition=null,M=1,tg(e,t,r,n)}finally{Me.transition=s,M=n}return null}function tg(e,t,r,n){do Gr();while(Ot!==null);if(z&6)throw Error(T(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Lp(e,i),e===ue&&(ne=ue=null,fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||As||(As=!0,tf(li,function(){return Gr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Me.transition,Me.transition=null;var o=M;M=1;var a=z;z|=4,zl.current=null,Jm(e,r),qh(r,e),km(va),ci=!!ga,va=ga=null,e.current=r,Qm(r),Cp(),z=a,M=o,Me.transition=i}else e.current=r;if(As&&(As=!1,Ot=e,Ci=s),i=e.pendingLanes,i===0&&(Ut=null),Op(r.stateNode),Pe(e,te()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ei)throw Ei=!1,e=Ua,Ua=null,e;return Ci&1&&e.tag!==0&&Gr(),i=e.pendingLanes,i&1?e===Da?An++:(An=0,Da=e):An=0,Vt(),null}function Gr(){if(Ot!==null){var e=Nd(Ci),t=Me.transition,r=M;try{if(Me.transition=null,M=16>e?16:e,Ot===null)var n=!1;else{if(e=Ot,Ot=null,Ci=0,z&6)throw Error(T(331));var s=z;for(z|=4,O=e.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:Rn(8,c,i)}var d=c.child;if(d!==null)d.return=c,O=d;else for(;O!==null;){c=O;var h=c.sibling,m=c.return;if(Wh(c),c===u){O=null;break}if(h!==null){h.return=m,O=h;break}O=m}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rn(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,O=p;break e}O=i.return}}var f=e.current;for(O=f;O!==null;){o=O;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,O=g;else e:for(o=f;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vi(9,a)}}catch(E){Z(a,a.return,E)}if(a===o){O=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,O=b;break e}O=a.return}}if(z=s,Vt(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Ui,e)}catch{}n=!0}return n}finally{M=r,Me.transition=t}}return!1}function ac(e,t,r){t=tn(r,t),t=Nh(e,t,1),e=$t(e,t,1),t=_e(),e!==null&&(us(e,1,t),Pe(e,t))}function Z(e,t,r){if(e.tag===3)ac(e,e,r);else for(;t!==null;){if(t.tag===3){ac(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ut===null||!Ut.has(n))){e=tn(r,e),e=Ah(t,e,1),t=$t(t,e,1),e=_e(),t!==null&&(us(t,1,e),Pe(t,e));break}}t=t.return}}function rg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_e(),e.pingedLanes|=e.suspendedLanes&r,ue===e&&(fe&r)===r&&(oe===4||oe===3&&(fe&130023424)===fe&&500>te()-Bl?ar(e,0):Ml|=r),Pe(e,t)}function Zh(e,t){t===0&&(e.mode&1?(t=Ss,Ss<<=1,!(Ss&130023424)&&(Ss=4194304)):t=1);var r=_e();e=gt(e,t),e!==null&&(us(e,t,r),Pe(e,r))}function ng(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Zh(e,r)}function sg(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(t),Zh(e,r)}var ef;ef=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ce.current)Ee=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ee=!1,Vm(e,t,r);Ee=!!(e.flags&131072)}else Ee=!1,q&&t.flags&1048576&&sh(t,vi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Zs(e,t),e=t.pendingProps;var s=Yr(t,ye.current);Kr(t,r),s=Il(null,t,n,e,s,r);var i=Ll();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Te(n)?(i=!0,mi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ol(t),s.updater=Hi,t.stateNode=s,s._reactInternals=t,Ca(t,n,e,r),t=Oa(null,t,n,!0,i,r)):(t.tag=0,q&&i&&bl(t),we(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Zs(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=og(n),e=qe(n,e),s){case 0:t=Pa(null,t,n,e,r);break e;case 1:t=Yu(null,t,n,e,r);break e;case 11:t=Ju(null,t,n,e,r);break e;case 14:t=Qu(null,t,n,qe(n.type,e),r);break e}throw Error(T(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qe(n,s),Pa(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qe(n,s),Yu(e,t,n,s,r);case 3:e:{if(Uh(t),e===null)throw Error(T(387));n=t.pendingProps,i=t.memoizedState,s=i.element,ch(e,t),_i(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=tn(Error(T(423)),t),t=Xu(e,t,n,r,s);break e}else if(n!==s){s=tn(Error(T(424)),t),t=Xu(e,t,n,r,s);break e}else for(Ne=Lt(t.stateNode.containerInfo.firstChild),Ae=t,q=!0,Ye=null,r=lh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xr(),n===s){t=vt(e,t,r);break e}we(e,t,n,r)}t=t.child}return t;case 5:return dh(t),e===null&&Sa(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ya(n,s)?o=null:i!==null&&ya(n,i)&&(t.flags|=32),$h(e,t),we(e,t,o,r),t.child;case 6:return e===null&&Sa(t),null;case 13:return Dh(e,t,r);case 4:return jl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zr(t,null,n,r):we(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qe(n,s),Ju(e,t,n,s,r);case 7:return we(e,t,t.pendingProps,r),t.child;case 8:return we(e,t,t.pendingProps.children,r),t.child;case 12:return we(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,W(yi,n._currentValue),n._currentValue=o,i!==null)if(et(i.value,o)){if(i.children===s.children&&!Ce.current){t=vt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ft(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),xa(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),xa(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}we(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Kr(t,r),s=Be(s),n=n(s),t.flags|=1,we(e,t,n,r),t.child;case 14:return n=t.type,s=qe(n,t.pendingProps),s=qe(n.type,s),Qu(e,t,n,s,r);case 15:return Ih(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qe(n,s),Zs(e,t),t.tag=1,Te(n)?(e=!0,mi(t)):e=!1,Kr(t,r),Rh(t,n,s),Ca(t,n,s,r),Oa(null,t,n,!0,e,r);case 19:return zh(e,t,r);case 22:return Lh(e,t,r)}throw Error(T(156,t.tag))};function tf(e,t){return Pd(e,t)}function ig(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ze(e,t,r,n){return new ig(e,t,r,n)}function Vl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function og(e){if(typeof e=="function")return Vl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cl)return 11;if(e===dl)return 14}return 2}function zt(e,t){var r=e.alternate;return r===null?(r=ze(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ri(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Vl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Rr:return lr(r.children,s,i,t);case ul:o=8,s|=8;break;case Qo:return e=ze(12,r,t,s|2),e.elementType=Qo,e.lanes=i,e;case Yo:return e=ze(13,r,t,s),e.elementType=Yo,e.lanes=i,e;case Xo:return e=ze(19,r,t,s),e.elementType=Xo,e.lanes=i,e;case dd:return Ki(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ud:o=10;break e;case cd:o=9;break e;case cl:o=11;break e;case dl:o=14;break e;case bt:o=16,n=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=ze(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function lr(e,t,r,n){return e=ze(7,e,n,t),e.lanes=r,e}function Ki(e,t,r,n){return e=ze(22,e,n,t),e.elementType=dd,e.lanes=r,e.stateNode={isHidden:!1},e}function Lo(e,t,r){return e=ze(6,e,null,t),e.lanes=r,e}function $o(e,t,r){return t=ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ag(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=go(0),this.expirationTimes=go(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=go(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ql(e,t,r,n,s,i,o,a,l){return e=new ag(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ze(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ol(i),e}function lg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function rf(e){if(!e)return Ft;e=e._reactInternals;e:{if(mr(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Te(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(Te(r))return rh(e,r,t)}return t}function nf(e,t,r,n,s,i,o,a,l){return e=ql(r,n,!0,e,s,i,o,a,l),e.context=rf(null),r=e.current,n=_e(),s=Dt(r),i=ft(n,s),i.callback=t??null,$t(r,i,s),e.current.lanes=s,us(e,s,n),Pe(e,n),e}function Gi(e,t,r,n){var s=t.current,i=_e(),o=Dt(s);return r=rf(r),t.context===null?t.context=r:t.pendingContext=r,t=ft(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=$t(s,t,o),e!==null&&(Ze(e,s,o,i),Qs(e,s,o)),o}function Pi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Kl(e,t){lc(e,t),(e=e.alternate)&&lc(e,t)}function ug(){return null}var sf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gl(e){this._internalRoot=e}Ji.prototype.render=Gl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Gi(e,t,null,null)};Ji.prototype.unmount=Gl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fr(function(){Gi(null,e,null,null)}),t[mt]=null}};function Ji(e){this._internalRoot=e}Ji.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ld();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Et.length&&t!==0&&t<Et[r].priority;r++);Et.splice(r,0,e),r===0&&Ud(e)}};function Jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uc(){}function cg(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Pi(o);i.call(u)}}var o=nf(t,n,e,0,null,!1,!1,"",uc);return e._reactRootContainer=o,e[mt]=o.current,Hn(e.nodeType===8?e.parentNode:e),fr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Pi(l);a.call(u)}}var l=ql(e,0,!1,null,null,!1,!1,"",uc);return e._reactRootContainer=l,e[mt]=l.current,Hn(e.nodeType===8?e.parentNode:e),fr(function(){Gi(t,l,r,n)}),l}function Yi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Pi(o);a.call(l)}}Gi(t,o,e,s)}else o=cg(r,t,e,s,n);return Pi(o)}Ad=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=bn(t.pendingLanes);r!==0&&(pl(t,r|1),Pe(t,te()),!(z&6)&&(rn=te()+500,Vt()))}break;case 13:fr(function(){var n=gt(e,1);if(n!==null){var s=_e();Ze(n,e,1,s)}}),Kl(e,1)}};ml=function(e){if(e.tag===13){var t=gt(e,134217728);if(t!==null){var r=_e();Ze(t,e,134217728,r)}Kl(e,134217728)}};Id=function(e){if(e.tag===13){var t=Dt(e),r=gt(e,t);if(r!==null){var n=_e();Ze(r,e,t,n)}Kl(e,t)}};Ld=function(){return M};$d=function(e,t){var r=M;try{return M=e,t()}finally{M=r}};la=function(e,t,r){switch(t){case"input":if(ta(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Bi(n);if(!s)throw Error(T(90));fd(n),ta(n,s)}}}break;case"textarea":md(e,r);break;case"select":t=r.value,t!=null&&Wr(e,!!r.multiple,t,!1)}};bd=Fl;Sd=fr;var dg={usingClientEntryPoint:!1,Events:[ds,Lr,Bi,_d,kd,Fl]},yn={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hg={bundleType:yn.bundleType,version:yn.version,rendererPackageName:yn.rendererPackageName,rendererConfig:yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cd(e),e===null?null:e.stateNode},findFiberByHostInstance:yn.findFiberByHostInstance||ug,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Is.isDisabled&&Is.supportsFiber)try{Ui=Is.inject(hg),st=Is}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dg;Le.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jl(t))throw Error(T(200));return lg(e,t,null,r)};Le.createRoot=function(e,t){if(!Jl(e))throw Error(T(299));var r=!1,n="",s=sf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ql(e,1,!1,null,null,r,!1,n,s),e[mt]=t.current,Hn(e.nodeType===8?e.parentNode:e),new Gl(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Cd(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return fr(e)};Le.hydrate=function(e,t,r){if(!Qi(t))throw Error(T(200));return Yi(null,e,t,!0,r)};Le.hydrateRoot=function(e,t,r){if(!Jl(e))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=sf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=nf(t,null,e,1,r??null,s,!1,i,o),e[mt]=t.current,Hn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ji(t)};Le.render=function(e,t,r){if(!Qi(t))throw Error(T(200));return Yi(null,e,t,!1,r)};Le.unmountComponentAtNode=function(e){if(!Qi(e))throw Error(T(40));return e._reactRootContainer?(fr(function(){Yi(null,null,e,!1,function(){e._reactRootContainer=null,e[mt]=null})}),!0):!1};Le.unstable_batchedUpdates=Fl;Le.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qi(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Yi(e,t,r,!1,n)};Le.version="18.3.1-next-f1338f8080-20240426";function of(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(of)}catch(e){console.error(e)}}of(),id.exports=Le;var fg=id.exports,cc=fg;Go.createRoot=cc.createRoot,Go.hydrateRoot=cc.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zn.apply(this,arguments)}var jt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jt||(jt={}));const dc="popstate";function pg(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:a="",hash:l=""}=gr(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ba("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:Oi(i))}function n(s,i){Xi(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return gg(t,r,n,e)}function J(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mg(){return Math.random().toString(36).substr(2,8)}function hc(e,t){return{usr:e.state,key:e.key,idx:t}}function Ba(e,t,r,n){return r===void 0&&(r=null),Zn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gr(t):t,{state:r,key:t&&t.key||n||mg()})}function Oi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function gg(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=jt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Zn({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=jt.Pop;let k=c(),p=k==null?null:k-u;u=k,l&&l({action:a,location:w.location,delta:p})}function h(k,p){a=jt.Push;let f=Ba(w.location,k,p);r&&r(f,k),u=c()+1;let g=hc(f,u),b=w.createHref(f);try{o.pushState(g,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(b)}i&&l&&l({action:a,location:w.location,delta:1})}function m(k,p){a=jt.Replace;let f=Ba(w.location,k,p);r&&r(f,k),u=c();let g=hc(f,u),b=w.createHref(f);o.replaceState(g,"",b),i&&l&&l({action:a,location:w.location,delta:0})}function v(k){let p=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof k=="string"?k:Oi(k);return f=f.replace(/ $/,"%20"),J(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let w={get action(){return a},get location(){return e(s,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(dc,d),l=k,()=>{s.removeEventListener(dc,d),l=null}},createHref(k){return t(s,k)},createURL:v,encodeLocation(k){let p=v(k);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:m,go(k){return o.go(k)}};return w}var fc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fc||(fc={}));function vg(e,t,r){return r===void 0&&(r="/"),yg(e,t,r)}function yg(e,t,r,n){let s=typeof t=="string"?gr(t):t,i=nn(s.pathname||"/",r);if(i==null)return null;let o=af(e);wg(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=jg(i);a=Pg(o[l],u)}return a}function af(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(J(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Mt([n,l.relativePath]),c=r.concat(l);i.children&&i.children.length>0&&(J(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),af(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Cg(u,i.index),routesMeta:c})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of lf(i.path))s(i,o,l)}),t}function lf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=lf(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function wg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Tg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const _g=/^:[\w-]+$/,kg=3,bg=2,Sg=1,xg=10,Eg=-2,pc=e=>e==="*";function Cg(e,t){let r=e.split("/"),n=r.length;return r.some(pc)&&(n+=Eg),t&&(n+=bg),r.filter(s=>!pc(s)).reduce((s,i)=>s+(_g.test(i)?kg:i===""?Sg:xg),n)}function Tg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Pg(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",d=Fa({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Mt([i,d.pathname]),pathnameBase:Lg(Mt([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Mt([i,d.pathnameBase]))}return o}function Fa(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Og(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:h,isOptional:m}=c;if(h==="*"){let w=a[d]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=a[d];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Og(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Xi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function jg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function nn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Rg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ng=e=>Rg.test(e);function Ag(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?gr(e):e,i;if(r)if(Ng(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Xi(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=mc(r.substring(1),"/"):i=mc(r,t)}else i=t;return{pathname:i,search:$g(n),hash:Ug(s)}}function mc(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Uo(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ig(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ql(e,t){let r=Ig(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Yl(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=gr(e):(s=Zn({},e),J(!s.pathname||!s.pathname.includes("?"),Uo("?","pathname","search",s)),J(!s.pathname||!s.pathname.includes("#"),Uo("#","pathname","hash",s)),J(!s.search||!s.search.includes("#"),Uo("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=Ag(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Mt=e=>e.join("/").replace(/\/\/+/g,"/"),Lg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$g=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ug=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Dg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const uf=["post","put","patch","delete"];new Set(uf);const zg=["get",...uf];new Set(zg);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},es.apply(this,arguments)}const Zi=x.createContext(null),cf=x.createContext(null),wt=x.createContext(null),eo=x.createContext(null),qt=x.createContext({outlet:null,matches:[],isDataRoute:!1}),df=x.createContext(null);function Mg(e,t){let{relative:r}=t===void 0?{}:t;ln()||J(!1);let{basename:n,navigator:s}=x.useContext(wt),{hash:i,pathname:o,search:a}=to(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Mt([n,o])),s.createHref({pathname:l,search:a,hash:i})}function ln(){return x.useContext(eo)!=null}function vr(){return ln()||J(!1),x.useContext(eo).location}function hf(e){x.useContext(wt).static||x.useLayoutEffect(e)}function yr(){let{isDataRoute:e}=x.useContext(qt);return e?Zg():Bg()}function Bg(){ln()||J(!1);let e=x.useContext(Zi),{basename:t,future:r,navigator:n}=x.useContext(wt),{matches:s}=x.useContext(qt),{pathname:i}=vr(),o=JSON.stringify(Ql(s,r.v7_relativeSplatPath)),a=x.useRef(!1);return hf(()=>{a.current=!0}),x.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=Yl(u,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Mt([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,o,i,e])}function to(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(wt),{matches:s}=x.useContext(qt),{pathname:i}=vr(),o=JSON.stringify(Ql(s,n.v7_relativeSplatPath));return x.useMemo(()=>Yl(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Fg(e,t){return Wg(e,t)}function Wg(e,t,r,n){ln()||J(!1);let{navigator:s}=x.useContext(wt),{matches:i}=x.useContext(qt),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=vr(),c;if(t){var d;let k=typeof t=="string"?gr(t):t;l==="/"||(d=k.pathname)!=null&&d.startsWith(l)||J(!1),c=k}else c=u;let h=c.pathname||"/",m=h;if(l!=="/"){let k=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(k.length).join("/")}let v=vg(e,{pathname:m}),w=Gg(v&&v.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:Mt([l,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?l:Mt([l,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,r,n);return t&&w?x.createElement(eo.Provider,{value:{location:es({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:jt.Pop}},w):w}function Hg(){let e=Xg(),t=Dg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const Vg=x.createElement(Hg,null);class qg extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(qt.Provider,{value:this.props.routeContext},x.createElement(df.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kg(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(Zi);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(qt.Provider,{value:t},n)}function Gg(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||J(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:m}=r,v=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let m,v=!1,w=null,k=null;r&&(m=a&&d.route.id?a[d.route.id]:void 0,w=d.route.errorElement||Vg,l&&(u<0&&h===0?(ev("route-fallback"),v=!0,k=null):u===h&&(v=!0,k=d.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,h+1)),f=()=>{let g;return m?g=w:v?g=k:d.route.Component?g=x.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=c,x.createElement(Kg,{match:d,routeContext:{outlet:c,matches:p,isDataRoute:r!=null},children:g})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?x.createElement(qg,{location:r.location,revalidation:r.revalidation,component:w,error:m,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var ff=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ff||{}),pf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pf||{});function Jg(e){let t=x.useContext(Zi);return t||J(!1),t}function Qg(e){let t=x.useContext(cf);return t||J(!1),t}function Yg(e){let t=x.useContext(qt);return t||J(!1),t}function mf(e){let t=Yg(),r=t.matches[t.matches.length-1];return r.route.id||J(!1),r.route.id}function Xg(){var e;let t=x.useContext(df),r=Qg(),n=mf();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Zg(){let{router:e}=Jg(ff.UseNavigateStable),t=mf(pf.UseNavigateStable),r=x.useRef(!1);return hf(()=>{r.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,es({fromRouteId:t},i)))},[e,t])}const gc={};function ev(e,t,r){gc[e]||(gc[e]=!0)}function tv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ni(e){let{to:t,replace:r,state:n,relative:s}=e;ln()||J(!1);let{future:i,static:o}=x.useContext(wt),{matches:a}=x.useContext(qt),{pathname:l}=vr(),u=yr(),c=Yl(t,Ql(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(c);return x.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function ot(e){J(!1)}function rv(e){let{basename:t="/",children:r=null,location:n,navigationType:s=jt.Pop,navigator:i,static:o=!1,future:a}=e;ln()&&J(!1);let l=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:i,static:o,future:es({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=gr(n));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:v="default"}=n,w=x.useMemo(()=>{let k=nn(c,l);return k==null?null:{location:{pathname:k,search:d,hash:h,state:m,key:v},navigationType:s}},[l,c,d,h,m,v,s]);return w==null?null:x.createElement(wt.Provider,{value:u},x.createElement(eo.Provider,{children:r,value:w}))}function nv(e){let{children:t,location:r}=e;return Fg(Wa(t),r)}new Promise(()=>{});function Wa(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,Wa(n.props.children,i));return}n.type!==ot&&J(!1),!n.props.index||!n.props.children||J(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Wa(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ji.apply(this,arguments)}function gf(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function sv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iv(e,t){return e.button===0&&(!t||t==="_self")&&!sv(e)}function Ha(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function ov(e,t){let r=Ha(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const av=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],uv="6";try{window.__reactRouterVersion=uv}catch{}const cv=x.createContext({isTransitioning:!1}),dv="startTransition",vc=rp[dv];function hv(e){let{basename:t,children:r,future:n,window:s}=e,i=x.useRef();i.current==null&&(i.current=pg({window:s,v5Compat:!0}));let o=i.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=x.useCallback(d=>{u&&vc?vc(()=>l(d)):l(d)},[l,u]);return x.useLayoutEffect(()=>o.listen(c),[o,c]),x.useEffect(()=>tv(n),[n]),x.createElement(rv,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const fv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fs=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,h=gf(t,av),{basename:m}=x.useContext(wt),v,w=!1;if(typeof u=="string"&&pv.test(u)&&(v=u,fv))try{let g=new URL(window.location.href),b=u.startsWith("//")?new URL(g.protocol+u):new URL(u),E=nn(b.pathname,m);b.origin===g.origin&&E!=null?u=E+b.search+b.hash:w=!0}catch{}let k=Mg(u,{relative:s}),p=gv(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:d});function f(g){n&&n(g),g.defaultPrevented||p(g)}return x.createElement("a",ji({},h,{href:v||k,onClick:w||i?n:f,ref:r,target:l}))}),Rt=x.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:u,children:c}=t,d=gf(t,lv),h=to(l,{relative:d.relative}),m=vr(),v=x.useContext(cf),{navigator:w,basename:k}=x.useContext(wt),p=v!=null&&yv(h)&&u===!0,f=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,g=m.pathname,b=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(g=g.toLowerCase(),b=b?b.toLowerCase():null,f=f.toLowerCase()),b&&k&&(b=nn(b,k)||b);const E=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let C=g===f||!o&&g.startsWith(f)&&g.charAt(E)==="/",_=b!=null&&(b===f||!o&&b.startsWith(f)&&b.charAt(f.length)==="/"),S={isActive:C,isPending:_,isTransitioning:p},j=C?n:void 0,P;typeof i=="function"?P=i(S):P=[i,C?"active":null,_?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(S):a;return x.createElement(fs,ji({},d,{"aria-current":j,className:P,ref:r,style:L,to:l,viewTransition:u}),typeof c=="function"?c(S):c)});var Va;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Va||(Va={}));var yc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yc||(yc={}));function mv(e){let t=x.useContext(Zi);return t||J(!1),t}function gv(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=yr(),u=vr(),c=to(e,{relative:o});return x.useCallback(d=>{if(iv(d,r)){d.preventDefault();let h=n!==void 0?n:Oi(u)===Oi(c);l(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,c,n,s,r,e,i,o,a])}function vv(e){let t=x.useRef(Ha(e)),r=x.useRef(!1),n=vr(),s=x.useMemo(()=>ov(n.search,r.current?null:t.current),[n.search]),i=yr(),o=x.useCallback((a,l)=>{const u=Ha(typeof a=="function"?a(s):a);r.current=!0,i("?"+u,l)},[i,s]);return[s,o]}function yv(e,t){t===void 0&&(t={});let r=x.useContext(cv);r==null&&J(!1);let{basename:n}=mv(Va.useViewTransitionState),s=to(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=nn(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=nn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Fa(s.pathname,o)!=null||Fa(s.pathname,i)!=null}const vf="goaltracker_users_v1",Xl="goaltracker_current_user_v1";crypto.randomUUID(),new Date(Date.now()+864e6).toISOString().slice(0,10),Date.now()-1e5,crypto.randomUUID(),new Date(Date.now()+1728e6).toISOString().slice(0,10),Date.now()-9e4,crypto.randomUUID(),new Date(Date.now()-864e5).toISOString().slice(0,10),Date.now()-8e4;const Do=()=>JSON.parse(localStorage.getItem(vf)||"[]"),wc=e=>localStorage.setItem(vf,JSON.stringify(e)),wv=()=>JSON.parse(localStorage.getItem(Xl)||"null"),_r=e=>localStorage.setItem(Xl,JSON.stringify(e)),zo=()=>localStorage.removeItem(Xl);function ro(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function _v(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}const kv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Zl extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class bv extends Zl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _c extends Zl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class kc extends Zl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var qa;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qa||(qa={}));class Sv{constructor(t,{headers:r={},customFetch:n,region:s=qa.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=kv(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return _v(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:d}=n;let h={},{region:m}=n;m||(m=this.region);const v=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let k=c;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),c?(k=o.signal,c.addEventListener("abort",()=>o.abort())):k=o.signal);const p=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:w,signal:k}).catch(E=>{throw new bv(E)}),f=p.headers.get("x-relay-error");if(f&&f==="true")throw new _c(p);if(!p.ok)throw new kc(p);let g=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return g==="application/json"?b=yield p.json():g==="application/octet-stream"||g==="application/pdf"?b=yield p.blob():g==="text/event-stream"?b=p:g==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null,response:p}}catch(a){return{data:null,error:a,response:a instanceof kc||a instanceof _c?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var xv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Ev=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,c=i.statusText;if(i.ok){var d,h;if(r.method!=="HEAD"){var m;const p=await i.text();p===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?a=p:a=JSON.parse(p))}const w=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),k=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&k&&k.length>1&&(l=parseInt(k[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const w=await i.text();try{o=JSON.parse(w),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,c="OK")}catch{i.status===404&&w===""?(u=204,c="No Content"):o={message:w}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&r.shouldThrowOnError)throw new xv(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="",l="",u="";const c=i==null?void 0:i.cause;if(c){var d,h,m,v;const p=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",f=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";a=`${(m=i==null?void 0:i.name)!==null&&m!==void 0?m:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(v=c==null?void 0:c.name)!==null&&v!==void 0?v:"Error"}: ${p}`,f&&(a+=` (${f})`),c!=null&&c.stack&&(a+=`
${c.stack}`)}else{var w;a=(w=i==null?void 0:i.stack)!==null&&w!==void 0?w:""}const k=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",k>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${k} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",k>this.urlLengthLimit&&(l+=`. Your request URL is ${k} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},Cv=class extends Ev{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const bc=new RegExp("[,()]");var Tr=class extends Cv{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&bc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&bc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Tv=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),n&&l.append("Prefer",`count=${n}`),new Tr({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new Tr({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);a.searchParams.set("columns",c.join(","))}}return new Tr({method:o,url:a,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Tr({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Tr({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function ts(e){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function Pv(e,t){if(ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ov(e){var t=Pv(e,"string");return ts(t)=="symbol"?t:t+""}function jv(e,t,r){return(t=Ov(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sc(Object(r),!0).forEach(function(n){jv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Rv=class yf{constructor(t,{headers:r={},schema:n,fetch:s,timeout:i,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=o;const a=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,u)=>{const c=new AbortController,d=setTimeout(()=>c.abort(),i),h=u==null?void 0:u.signal;if(h){if(h.aborted)return clearTimeout(d),a(l,u);const m=()=>{clearTimeout(d),c.abort()};return h.addEventListener("abort",m,{once:!0}),a(l,Ls(Ls({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(d),h.removeEventListener("abort",m)})}return a(l,Ls(Ls({},u),{},{signal:c.signal})).finally(()=>clearTimeout(d))}:this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Tv(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new yf(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(c)),d=n&&Object.values(r).some(c);d?(a="POST",u=r):n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{l.searchParams.append(m,v)})):(a="POST",u=r);const h=new Headers(this.headers);return d?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new Tr({method:a,url:l,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class Nv{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Av="2.95.3",Iv=`realtime-js/${Av}`,Lv="1.0.0",wf="2.0.0",xc=wf,Ka=1e4,$v=1e3,Uv=100;var xt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(xt||(xt={}));var se;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(se||(se={}));var Je;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Je||(Je={}));var Ga;(function(e){e.websocket="websocket"})(Ga||(Ga={}));var tr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(tr||(tr={}));class Dv{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+d.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(m),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,l.length),v.setUint8(w++,a.length),v.setUint8(w++,o.length),v.setUint8(w++,u.length),v.setUint8(w++,d.length),v.setUint8(w++,r),Array.from(l,p=>v.setUint8(w++,p.charCodeAt(0))),Array.from(a,p=>v.setUint8(w++,p.charCodeAt(0))),Array.from(o,p=>v.setUint8(w++,p.charCodeAt(0))),Array.from(u,p=>v.setUint8(w++,p.charCodeAt(0))),Array.from(d,p=>v.setUint8(w++,p.charCodeAt(0)));var k=new Uint8Array(m.byteLength+n.byteLength);return k.set(new Uint8Array(m),0),k.set(new Uint8Array(n),m.byteLength),k.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+s));l=l+s;const c=n.decode(t.slice(l,l+i));l=l+i;const d=n.decode(t.slice(l,l+o));l=l+o;const h=t.slice(l,t.byteLength),m=a===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,v={type:this.BROADCAST_EVENT,event:c,payload:m};return o>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class _f{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var F;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(F||(F={}));const Ec=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=zv(o,e,t,s),i),{}):{}},zv=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?kf(i,o):Ja(o)},kf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Wv(t,r)}switch(e){case F.bool:return Mv(t);case F.float4:case F.float8:case F.int2:case F.int4:case F.int8:case F.numeric:case F.oid:return Bv(t);case F.json:case F.jsonb:return Fv(t);case F.timestamp:return Hv(t);case F.abstime:case F.date:case F.daterange:case F.int4range:case F.int8range:case F.money:case F.reltime:case F.text:case F.time:case F.timestamptz:case F.timetz:case F.tsrange:case F.tstzrange:return Ja(t);default:return Ja(t)}},Ja=e=>e,Mv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Bv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Fv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Wv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>kf(t,a))}return e},Hv=e=>typeof e=="string"?e.replace(" ","T"):e,bf=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Mo{constructor(t,r,n={},s=Ka){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Cc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Cc||(Cc={}));class In{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=In.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=In.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=In.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(k=>k.presence_ref),m=d.map(k=>k.presence_ref),v=c.filter(k=>m.indexOf(k.presence_ref)<0),w=d.filter(k=>h.indexOf(k.presence_ref)<0);v.length>0&&(a[u]=v),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(m=>m.presence_ref),h=c.filter(m=>d.indexOf(m.presence_ref)<0);t[a].unshift(...h)}n(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Tc||(Tc={}));var Ln;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ln||(Ln={}));var lt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(lt||(lt={}));class Fr{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mo(this,Je.join,this.params,this.timeout),this.rejoinTimer=new _f(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=se.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new In(this),this.broadcastEndpointURL=bf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==se.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Ln.PRESENCE]&&this.bindings[Ln.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(lt.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(lt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(lt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,k=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,p=[];for(let f=0;f<k;f++){const g=w[f],{filter:{event:b,schema:E,table:C,filter:_}}=g,S=m&&m[f];if(S&&S.event===b&&Fr.isFilterValueEqual(S.schema,E)&&Fr.isFilterValueEqual(S.table,C)&&Fr.isFilterValueEqual(S.filter,_))p.push(Object.assign(Object.assign({},g),{id:S.id}));else{this.unsubscribe(),this.state=se.errored,t==null||t(lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(lt.SUBSCRIBED);return}}).receive("error",m=>{this.state=se.errored,t==null||t(lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===se.joined&&t===Ln.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=se.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Mo(this,Je.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=se.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Mo(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Uv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Je;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,w,k;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((k=(w=m.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,w,k,p,f,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const b=m.id,E=(v=m.filter)===null||v===void 0?void 0:v.event;return b&&((w=r.ids)===null||w===void 0?void 0:w.includes(b))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const b=(f=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return b==="*"||b===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:w,table:k,commit_timestamp:p,type:f,errors:g}=v;h=Object.assign(Object.assign({},{schema:w,table:k,commit_timestamp:p,eventType:f,new:{},old:{},errors:g}),this._getPayloadRecords(v))}m.callback(h,n)})}_isClosed(){return this.state===se.closed}_isJoined(){return this.state===se.joined}_isJoining(){return this.state===se.joining}_isLeaving(){return this.state===se.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Fr.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Je.close,{},t)}_onError(t){this._on(Je.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=se.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ec(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ec(t.columns,t.old_record)),r}}const Bo=()=>{},$s={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Vv=[1e3,2e3,5e3,1e4],qv=1e4,Kv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Gv{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ka,this.transport=null,this.heartbeatIntervalMs=$s.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bo,this.ref=0,this.reconnectTimer=null,this.vsn=xc,this.logger=Bo,this.conn=null,this.sendBuffer=[],this.serializer=new Dv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Ga.websocket}`,this.httpEndpoint=bf(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Nv.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xt.connecting:return tr.Connecting;case xt.open:return tr.Open;case xt.closing:return tr.Closing;default:return tr.Closed}}isConnected(){return this.connectionState()===tr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Fr(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close($v,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},$s.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===xt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===xt.open||this.conn.readyState===xt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Je.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Kv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:Iv};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Je.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new _f(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$s.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,a,l,u,c,d,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Ka,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:$s.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Bo,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:xc,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>Vv[v-1]||qv,this.vsn){case Lv:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(v,w)=>w(JSON.stringify(v)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(v,w)=>w(JSON.parse(v));break;case wf:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var rs=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Jv(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function Qv(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Yv(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=Jv(e.baseUrl,n,s),l=await Qv(e.auth),u=await t(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const m=d?h:void 0,v=m==null?void 0:m.error;throw new rs((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Us(e){return e.join("")}var Xv=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Us(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Us(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Us(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Us(e.namespace)}`}),!0}catch(t){if(t instanceof rs&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof rs&&r.status===409)return;throw r}}};function kr(e){return e.join("")}var Zv=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kr(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${kr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${kr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof rs&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof rs&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},ey=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Yv({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Xv(this.client,t),this.tableOps=new Zv(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},no=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function so(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Ds=class extends no{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Sf=class extends no{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const ty=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ry=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qa=e=>{if(Array.isArray(e))return e.map(r=>Qa(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Qa(n)}),t},ny=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ns(e){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(e)}function sy(e,t){if(ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iy(e){var t=sy(e,"string");return ns(t)=="symbol"?t:t+""}function oy(e,t,r){return(t=iy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pc(Object(r),!0).forEach(function(n){oy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Oc=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},ay=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Ds(Oc(o),i,a,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new Ds(s.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new Ds(s.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new Ds(s.statusText||`HTTP ${i} error`,i,o,n))}}else t(new Sf(Oc(e),e,n))},ly=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?I(I({},s),r):(ry(n)?(s.headers=I({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),I(I({},s),r))};async function wn(e,t,r,n,s,i,o){return new Promise((a,l)=>{e(r,ly(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>a(u)).catch(u=>ay(u,l,n,o))})}function xf(e="storage"){return{get:async(t,r,n,s)=>wn(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>wn(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>wn(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>wn(t,"HEAD",r,I(I({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>wn(t,"DELETE",r,s,i,n,e)}}const uy=xf("storage"),{get:ss,post:Ke,put:Ya,head:cy,remove:eu}=uy,Re=xf("vectors");var un=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=ty(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(so(r))return{data:null,error:r};throw r}}},dy=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(so(t))return{data:null,error:t};throw t}}};let Ef;Ef=Symbol.toStringTag;var hy=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Ef]="BlobDownloadBuilder",this.promise=null}asStream(){return new dy(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(so(t))return{data:null,error:t};throw t}}};const fy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var py=class extends un{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const o=I(I({},jc),n);let a=I(I({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(a=I(I({},a),n.headers));const u=s._removeEmptyFolders(t),c=s._getFinalPath(u),d=await(e=="PUT"?Ya:Ke)(s.fetch,`${s.url}/object/${c}`,i,I({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:d.Id,fullPath:d.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",t),s.handleOperation(async()=>{let l;const u=I({upsert:jc.upsert},n),c=I(I({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:i,fullPath:(await Ya(s.fetch,a.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=I({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await Ke(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new no("No token returned by API");return{signedUrl:o.toString(),path:e,token:a}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Ke(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Ke(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await Ke(n.fetch,`${n.url}/object/sign/${s}`,I({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await Ke(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>I(I({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"",o=this._getFinalPath(e),a=()=>ss(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0},r);return new hy(a,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Qa(await ss(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await cy(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(so(n)&&n instanceof Sf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await eu(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=I(I(I({},fy),t),{},{prefix:e||""});return await Ke(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=I({},e);return await Ke(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const my="2.95.3",ps={"X-Client-Info":`storage-js/${my}`};var gy=class extends un{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=I(I({},ps),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await ss(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ss(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Ke(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Ya(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Ke(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await eu(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},vy=class extends un{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=I(I({},ps),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ke(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await ss(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await eu(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!ny(e))throw new no("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new ey({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},yy=class extends un{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=I(I({},ps),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Re.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Re.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Re.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Re.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},wy=class extends un{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=I(I({},ps),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Re.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Re.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Re.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Re.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Re.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},_y=class extends un{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=I(I({},ps),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Re.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Re.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Re.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Re.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},ky=class extends _y{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new by(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},by=class extends yy{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,I(I({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,I(I({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Sy(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Sy=class extends wy{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,I(I({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,I(I({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,I(I({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,I(I({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,I(I({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},xy=class extends gy{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new py(this.url,this.headers,e,this.fetch)}get vectors(){return new ky(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vy(this.url+"/iceberg",this.headers,this.fetch)}};const Cf="2.95.3",Pr=30*1e3,Xa=3,Fo=Xa*Pr,Ey="http://localhost:9999",Cy="supabase.auth.token",Ty={"X-Client-Info":`gotrue-js/${Cf}`},Za="X-Supabase-Api-Version",Tf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Py=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Oy=10*60*1e3;class is extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function N(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class jy extends is{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ry(e){return N(e)&&e.name==="AuthApiError"}class rr extends is{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class _t extends is{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Oe extends _t{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wo(e){return N(e)&&e.name==="AuthSessionMissingError"}class br extends _t{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zs extends _t{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ms extends _t{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ny(e){return N(e)&&e.name==="AuthImplicitGrantRedirectError"}class Rc extends _t{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ay extends _t{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class el extends _t{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ho(e){return N(e)&&e.name==="AuthRetryableFetchError"}class Nc extends _t{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class tl extends _t{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ri="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ac=` 	
\r=`.split(""),Iy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ac.length;t+=1)e[Ac[t].charCodeAt(0)]=-2;for(let t=0;t<Ri.length;t+=1)e[Ri[t].charCodeAt(0)]=t;return e})();function Ic(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ri[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ri[n]),t.queuedBits-=6}}function Pf(e,t,r){const n=Iy[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Lc(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Uy(o,n,r)};for(let o=0;o<e.length;o+=1)Pf(e.charCodeAt(o),s,i);return t.join("")}function Ly(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $y(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Ly(n,t)}}function Uy(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Jr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Pf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Dy(e){const t=[];return $y(e,r=>t.push(r)),new Uint8Array(t)}function or(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Ic(s,r,n)),Ic(null,r,n),t.join("")}function zy(e){return Math.round(Date.now()/1e3)+e}function My(){return Symbol("auth-callback")}const de=()=>typeof window<"u"&&typeof document<"u",Qt={tested:!1,writable:!1},Of=()=>{if(!de())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qt.tested)return Qt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Qt.tested=!0,Qt.writable=!0}catch{Qt.tested=!0,Qt.writable=!1}return Qt.writable};function By(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const jf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Fy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Or=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Yt=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ce=async(e,t)=>{await e.removeItem(t)};class io{constructor(){this.promise=new io.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}io.promiseConstructor=Promise;function Bs(e){const t=e.split(".");if(t.length!==3)throw new tl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Py.test(t[n]))throw new tl("JWT not in base64url format");return{header:JSON.parse(Lc(t[0])),payload:JSON.parse(Lc(t[1])),signature:Jr(t[2]),raw:{header:t[0],payload:t[1]}}}async function Wy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Hy(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Vy(e){return("0"+e.toString(16)).substr(-2)}function qy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Vy).join("")}async function Ky(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Gy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Ky(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sr(e,t,r=!1){const n=qy();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Or(e,`${t}-code-verifier`,s);const i=await Gy(n);return[i,n===i?"plain":"s256"]}const Jy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qy(e){const t=e.headers.get(Za);if(!t||!t.match(Jy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Yy(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Xy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Zy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xr(e){if(!Zy.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vo(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function e0(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function $c(e){return JSON.parse(JSON.stringify(e))}const er=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),t0=[502,503,504];async function Uc(e){var t;if(!Fy(e))throw new el(er(e),0);if(t0.includes(e.status))throw new el(er(e),e.status);let r;try{r=await e.json()}catch(i){throw new rr(er(i),i)}let n;const s=Qy(e);if(s&&s.getTime()>=Tf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Nc(er(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Oe}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Nc(er(r),e.status,r.weak_password.reasons);throw new jy(er(r),e.status||500,n)}const r0=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function A(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Za]||(i[Za]=Tf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await n0(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function n0(e,t,r,n,s,i){const o=r0(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new el(er(l),0)}if(a.ok||await Uc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Uc(l)}}function Ve(e){var t;let r=null;o0(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=zy(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Dc(e){const t=Ve(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Tt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function s0(e){return{data:e,error:null}}function i0(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=ro(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function zc(e){return e}function o0(e){return e.access_token&&e.refresh_token&&e.expires_in}const qo=["global","local","others"];class a0{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=jf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=qo[0]){if(qo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qo.join(", ")}`);try{return await A(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await A(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Tt})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ro(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:i0,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(N(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await A(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Tt})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:zc});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);u[`${k}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(N(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){xr(t);try{return await A(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Tt})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){xr(t);try{return await A(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Tt})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){xr(t);try{return await A(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Tt})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){xr(t.userId);try{const{data:r,error:n}=await A(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(N(r))return{data:null,error:r};throw r}}async _deleteFactor(t){xr(t.userId),xr(t.id);try{return{data:await A(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(N(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await A(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:zc});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);u[`${k}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(N(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await A(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(N(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await A(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(N(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await A(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await A(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(N(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await A(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(N(r))return{data:null,error:r};throw r}}}function Mc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Er={debug:!!(globalThis&&Of()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Rf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class l0 extends Rf{}async function u0(e,t,r){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new l0(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Er.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function c0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Nf(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function d0(e){return parseInt(e,16)}function h0(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function f0(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=Nf(e.address),v=c?`${c}://${n}`:n,w=e.statement?`${e.statement}
`:"",k=`${v} wants you to sign in with your Ethereum account:
${m}

${w}`;let p=`URI: ${d}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(p+=`
Expiration Time: ${s.toISOString()}`),a&&(p+=`
Not Before: ${a.toISOString()}`),l&&(p+=`
Request ID: ${l}`),u){let f=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);f+=`
- ${g}`}p+=f}return`${k}
${p}`}class re extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ni extends re{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function p0({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new re({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new re({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new re({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new re({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new re({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new re({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new re({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new re({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Af(o)){if(i.rp.id!==o)return new re({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new re({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new re({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function m0({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new re({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new re({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Af(n)){if(r.rpId!==n)return new re({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new re({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class g0{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const v0=new g0;function y0(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=ro(e,["challenge","user","excludeCredentials"]),i=Jr(t).buffer,o=Object.assign(Object.assign({},r),{id:Jr(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Jr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function w0(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ro(e,["challenge","allowCredentials"]),s=Jr(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Jr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function _0(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:or(new Uint8Array(e.response.attestationObject)),clientDataJSON:or(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function k0(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:or(new Uint8Array(s.authenticatorData)),clientDataJSON:or(new Uint8Array(s.clientDataJSON)),signature:or(new Uint8Array(s.signature)),userHandle:s.userHandle?or(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Af(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Bc(){var e,t;return!!(de()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function b0(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ni("Browser returned unexpected credential type",t)}:{data:null,error:new Ni("Empty credential response",t)}}catch(t){return{data:null,error:p0({error:t,options:e})}}}async function S0(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ni("Browser returned unexpected credential type",t)}:{data:null,error:new Ni("Empty credential response",t)}}catch(t){return{data:null,error:m0({error:t,options:e})}}}const x0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},E0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ai(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const a=n[i];t(a)?n[i]=Ai(a,o):n[i]=Ai(o)}else n[i]=o}return n}function C0(e,t){return Ai(x0,e,t||{})}function T0(e,t){return Ai(E0,e,t||{})}class P0{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const u=s??v0.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;if(!c.name){const d=n;if(d)c.name=`${c.id}:${d}`;else{const m=(await this.client.getUser()).data.user,v=((o=m==null?void 0:m.user_metadata)===null||o===void 0?void 0:o.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";c.name=`${c.id}:${v}`}}c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=C0(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await b0({publicKey:c,signal:u});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=T0(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await S0(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return N(a)?{data:null,error:a}:{data:null,error:new rr("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new is("rpId is required for WebAuthn authentication")};try{if(!Bc())return{data:null,error:new rr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return N(o)?{data:null,error:o}:{data:null,error:new rr("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new is("rpId is required for WebAuthn registration")};try{if(!Bc())return{data:null,error:new rr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return N(o)?{data:null,error:o}:{data:null,error:new rr("Unexpected error in register",o)}}}}c0();const O0={url:Ey,storageKey:Cy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ty,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Fc(e,t,r){return await r()}const Cr={};class os{get jwks(){var t,r;return(r=(t=Cr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Cr[this.storageKey]=Object.assign(Object.assign({},Cr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Cr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Cr[this.storageKey]=Object.assign(Object.assign({},Cr[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},O0),t);if(this.storageKey=i.storageKey,this.instanceID=(r=os.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,os.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&de()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new a0({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=jf(i.fetch),this.lock=i.lock||Fc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&de()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=u0:this.lock=Fc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new P0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Of()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mc(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Mc(this.memoryStorage)),de()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Cf}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(de()&&(r=By(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),de()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ny(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return N(r)?this._returnResult({error:r}):this._returnResult({error:new rr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ve}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(N(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:c,password:d,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Sr(this.storage,this.storageKey)),i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:Ve})}else if("phone"in t){const{phone:c,password:d,options:h}=t;i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ve})}else throw new zs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await ce(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await ce(this.storage,`${this.storageKey}-code-verifier`),N(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Dc})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Dc})}else throw new zs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new br;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,a,l,u,c,d,h;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:w,wallet:k,statement:p,options:f}=t;let g;if(de())if(typeof k=="object")g=k;else{const j=window;if("ethereum"in j&&typeof j.ethereum=="object"&&"request"in j.ethereum&&typeof j.ethereum.request=="function")g=j.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=k}const b=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href),E=await g.request({method:"eth_requestAccounts"}).then(j=>j).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=Nf(E[0]);let _=(n=f==null?void 0:f.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const j=await g.request({method:"eth_chainId"});_=d0(j)}const S={domain:b.host,address:C,statement:p,uri:b.href,version:"1",chainId:_,nonce:(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=f==null?void 0:f.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=f0(S),v=await g.request({method:"personal_sign",params:[h0(m),C]})}try{const{data:w,error:k}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ve});if(k)throw k;if(!w||!w.session||!w.user){const p=new br;return this._returnResult({data:{user:null,session:null},error:p})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:k})}catch(w){if(N(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,s,i,o,a,l,u,c,d,h,m;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:k,wallet:p,statement:f,options:g}=t;let b;if(de())if(typeof p=="object")b=p;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))b=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=p}const E=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const C=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),f?{statement:f}:null));let _;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")_=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)_=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)v=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),w=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${E.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((d=(c=g==null?void 0:g.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...g.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const C=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=C}}try{const{data:k,error:p}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:or(w)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ve});if(p)throw p;if(!k||!k.session||!k.user){const f=new br;return this._returnResult({data:{user:null,session:null},error:f})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:p})}catch(k){if(N(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(t){const r=await Yt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Ay;const{data:i,error:o}=await A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ve});if(await ce(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new br;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await ce(this.storage,`${this.storageKey}-code-verifier`),N(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ve}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new br;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Sr(this.storage,this.storageKey));const{error:d}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new zs("You must provide either an email or phone number.")}catch(a){if(await ce(this.storage,`${this.storageKey}-code-verifier`),N(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ve});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(N(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Sr(this.storage,this.storageKey));const u=await A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:s0});return!((i=u.data)===null||i===void 0)&&i.url&&de()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await ce(this.storage,`${this.storageKey}-code-verifier`),N(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Oe;const{error:s}=await A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(N(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await A(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await A(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new zs("You must provide either an email or phone number and a type")}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Yt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Fo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Yt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Vo()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=e0(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Tt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Oe}:await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Tt})})}catch(r){if(N(r))return Wo(r)&&(await this._removeSession(),await ce(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Oe;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Sr(this.storage,this.storageKey));const{data:u,error:c}=await A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Tt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await ce(this.storage,`${this.storageKey}-code-verifier`),N(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Oe;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Bs(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(N(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Oe;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!de())throw new Ms("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ms(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Rc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ms("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Rc("No code detected.");const{data:f,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Ms("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const m=h-c;m*1e3<=Pr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:w,error:k}=await this._getUser(i);if(k)throw k;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(n){if(N(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Yt(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!Wo(i))return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Ry(a)&&(a.status===404||a.status===401||a.status===403)||Wo(a)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await ce(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=My(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Sr(this.storage,this.storageKey,!0));try{return await A(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ce(this.storage,`${this.storageKey}-code-verifier`),N(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await A(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return de()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(N(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=t,d=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ve}),{data:h,error:m}=d;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new br}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await ce(this.storage,`${this.storageKey}-code-verifier`),N(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await A(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Hy(async s=>(s>0&&await Wy(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ve})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ho(i)&&Date.now()+o-n<Pr})}catch(n){if(this._debug(r,"error",n),N(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),de()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Yt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Yt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Or(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Vo()}else if(s&&!s.user&&!s.user){const o=await Yt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ce(this.storage,this.storageKey+"-user"),await Or(this.storage,this.storageKey,s)):s.user=Vo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Fo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Fo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ho(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Oe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new io;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Oe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),N(i)){const o={data:null,error:i};return Ho(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ce(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Or(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=$c(s);await Or(this.storage,this.storageKey,i)}else{const s=$c(r);await Or(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ce(this.storage,this.storageKey),await ce(this.storage,this.storageKey+"-code-verifier"),await ce(this.storage,this.storageKey+"-user"),this.userStorage&&await ce(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&de()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Pr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Pr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Pr}ms, refresh threshold is ${Xa} ticks`),s<=Xa&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Rf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!de()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Sr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await A(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await A(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?_0(t.webauthn.credential_response):k0(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await A(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await A(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:y0(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:w0(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:m}=Bs(t);let v=null;m.aal&&(v=m.aal);let w=v;const{data:{user:k},error:p}=await this.getUser(t);if(p)return this._returnResult({data:null,error:p});((n=(r=k==null?void 0:k.factors)===null||r===void 0?void 0:r.filter(b=>b.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(w="aal2");const g=m.amr||[];return{data:{currentLevel:v,nextLevel:w,currentAuthenticationMethods:g},error:null}}catch(m){if(N(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Bs(o.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await A(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Oe})})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Oe});const o=await A(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&de()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Oe});const o=await A(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&de()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await A(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Oe})})}catch(t){if(N(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await A(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Oe})})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+Oy>s)return n;const{data:i,error:o}=await A(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Bs(n);r!=null&&r.allowExpired||Yy(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const c=Xy(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,Dy(`${a}.${l}`)))throw new tl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}}}os.nextInstanceID={};const j0=os,R0="2.95.3";let xn="";typeof Deno<"u"?xn="deno":typeof document<"u"?xn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xn="react-native":xn="node";const N0={"X-Client-Info":`supabase-js-${xn}/${R0}`},A0={headers:N0},I0={schema:"public"},L0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$0={};function as(e){"@babel/helpers - typeof";return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},as(e)}function U0(e,t){if(as(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(as(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D0(e){var t=U0(e,"string");return as(t)=="symbol"?t:t+""}function z0(e,t,r){return(t=D0(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wc(Object(r),!0).forEach(function(n){z0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const M0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),B0=()=>Headers,F0=(e,t,r)=>{const n=M0(r),s=B0();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,X(X({},o),{},{headers:u}))}};function W0(e){return e.endsWith("/")?e:e+"/"}function H0(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:X(X({},l),s),auth:X(X({},u),i),realtime:X(X({},c),o),storage:{},global:X(X(X({},d),a),{},{headers:X(X({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function V0(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(W0(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var q0=class extends j0{constructor(e){super(e)}},K0=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=V0(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:I0,realtime:$0,auth:X(X({},L0),{},{storageKey:o}),global:A0},l=H0(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=F0(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(X({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new Rv(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new xy(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Sv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new q0({url:this.authUrl.href,headers:X(X({},h),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Gv(this.realtimeUrl.href,X(X({},e),{},{params:X(X({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const G0=(e,t,r)=>new K0(e,t,r);function J0(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}J0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Q0="https://ndbjzapsglfegbyrduwc.supabase.co",If="sb_publishable_bUM2Fmyxk7AcHqGA94UiTw_fVgVr2Et",Qe=!!If,Se=Qe?G0(Q0,If):null,Lf=x.createContext(null);function Y0({children:e}){const[t,r]=x.useState(wv()),[n,s]=x.useState(Qe);x.useEffect(()=>{if(!Qe)return;let u=!0;(async()=>{var v,w;const{data:h}=await Se.auth.getUser();if(!u)return;const m=h==null?void 0:h.user;if(m){const k={id:m.id,name:((v=m.user_metadata)==null?void 0:v.name)||((w=m.email)==null?void 0:w.split("@")[0])||"User",email:m.email};r(k),_r(k)}else r(null),zo();s(!1)})();const{data:d}=Se.auth.onAuthStateChange((h,m)=>{var w,k;const v=m==null?void 0:m.user;if(v){const p={id:v.id,name:((w=v.user_metadata)==null?void 0:w.name)||((k=v.email)==null?void 0:k.split("@")[0])||"User",email:v.email};r(p),_r(p)}else r(null),zo()});return()=>{u=!1,d.subscription.unsubscribe()}},[]);const i=async({name:u,email:c,password:d})=>{if(Qe){const{data:w,error:k}=await Se.auth.signUp({email:c.trim().toLowerCase(),password:d,options:{data:{name:u.trim()}}});if(k)throw k;const p=w.user;if(p){const f={id:p.id,name:u.trim(),email:c.trim().toLowerCase()};r(f),_r(f)}return}const h=Do();if(h.some(w=>w.email.toLowerCase()===c.toLowerCase()))throw new Error("Email already in use");const m={id:crypto.randomUUID(),name:u.trim(),email:c.trim().toLowerCase(),password:d};wc([...h,m]);const v={id:m.id,name:m.name,email:m.email};r(v),_r(v)},o=async({email:u,password:c})=>{var v,w;if(Qe){const{data:k,error:p}=await Se.auth.signInWithPassword({email:u.trim().toLowerCase(),password:c});if(p)throw p;const f=k.user,g={id:f.id,name:((v=f.user_metadata)==null?void 0:v.name)||((w=f.email)==null?void 0:w.split("@")[0])||"User",email:f.email};r(g),_r(g);return}const h=Do().find(k=>k.email===u.trim().toLowerCase()&&k.password===c);if(!h)throw new Error("Invalid credentials");const m={id:h.id,name:h.name,email:h.email};r(m),_r(m)},a=async({currentPassword:u,newPassword:c})=>{if(!c||c.length<8)throw new Error("New password must be at least 8 characters");if(Qe){const{error:m}=await Se.auth.updateUser({password:c});if(m)throw m;return}const d=Do(),h=d.findIndex(m=>m.id===(t==null?void 0:t.id));if(h===-1)throw new Error("User not found");if(d[h].password!==u)throw new Error("Current password is incorrect");d[h]={...d[h],password:c},wc(d)},l=async()=>{Qe&&await Se.auth.signOut(),r(null),zo()};return y.jsx(Lf.Provider,{value:x.useMemo(()=>({currentUser:t,signup:i,login:o,changePassword:a,logout:l,authLoading:n,supabaseEnabled:Qe}),[t,n]),children:e})}const cn=()=>{const e=x.useContext(Lf);if(!e)throw new Error("useAuth must be used inside AuthProvider");return e};function X0(){const[e,t]=x.useState({email:"",password:""}),[r,n]=x.useState(""),{login:s}=cn(),i=yr(),o=async a=>{a.preventDefault(),n("");try{await s(e),i("/dashboard")}catch(l){n(l.message)}};return y.jsx("div",{className:"grid min-h-screen place-items-center bg-[#f1f5f9] p-4",children:y.jsxs("form",{onSubmit:o,className:"w-full max-w-md border-4 border-black bg-white p-6 shadow-[8px_8px_0_#000]",children:[y.jsx("h1",{className:"text-3xl font-black",children:"Habit Crusher"}),y.jsx("p",{className:"mb-4 font-bold",children:"Welcome back"}),r&&y.jsx("p",{className:"mb-3 border-2 border-black bg-red-200 p-2 font-bold",children:r}),y.jsx("input",{type:"email",placeholder:"Email",value:e.email,onChange:a=>t(l=>({...l,email:a.target.value})),className:"mb-3 w-full border-4 border-black px-3 py-2",required:!0}),y.jsx("input",{type:"password",placeholder:"Password",value:e.password,onChange:a=>t(l=>({...l,password:a.target.value})),className:"w-full border-4 border-black px-3 py-2",required:!0}),y.jsx("button",{className:"mt-4 w-full border-4 border-black bg-blue-400 py-2 font-black",children:"Login"}),y.jsxs("p",{className:"mt-3 text-center font-semibold",children:["New here? ",y.jsx(fs,{to:"/signup",className:"underline",children:"Create account"})]})]})})}function Z0(){const[e,t]=x.useState({name:"",email:"",password:""}),[r,n]=x.useState(""),{signup:s}=cn(),i=yr(),o=async a=>{a.preventDefault(),n("");try{await s(e),i("/dashboard")}catch(l){n(l.message)}};return y.jsx("div",{className:"grid min-h-screen place-items-center bg-[#f1f5f9] p-4",children:y.jsxs("form",{onSubmit:o,className:"w-full max-w-md border-4 border-black bg-white p-6 shadow-[8px_8px_0_#000]",children:[y.jsx("h1",{className:"text-3xl font-black",children:"Create account"}),r&&y.jsx("p",{className:"my-3 border-2 border-black bg-red-200 p-2 font-bold",children:r}),y.jsx("input",{placeholder:"Name",value:e.name,onChange:a=>t(l=>({...l,name:a.target.value})),className:"mb-3 w-full border-4 border-black px-3 py-2",required:!0}),y.jsx("input",{type:"email",placeholder:"Email",value:e.email,onChange:a=>t(l=>({...l,email:a.target.value})),className:"mb-3 w-full border-4 border-black px-3 py-2",required:!0}),y.jsx("input",{type:"password",placeholder:"Password",value:e.password,onChange:a=>t(l=>({...l,password:a.target.value})),className:"w-full border-4 border-black px-3 py-2",required:!0}),y.jsx("button",{className:"mt-4 w-full border-4 border-black bg-green-300 py-2 font-black",children:"Sign up"}),y.jsxs("p",{className:"mt-3 text-center font-semibold",children:["Already have an account? ",y.jsx(fs,{to:"/login",className:"underline",children:"Login"})]})]})})}var $f={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Hc=ht.createContext&&ht.createContext($f),ew=["attr","size","title"];function tw(e,t){if(e==null)return{};var r=rw(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rw(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ii.apply(this,arguments)}function Vc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vc(Object(r),!0).forEach(function(n){nw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nw(e,t,r){return t=sw(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sw(e){var t=iw(e,"string");return typeof t=="symbol"?t:t+""}function iw(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uf(e){return e&&e.map((t,r)=>ht.createElement(t.tag,Li({key:r},t.attr),Uf(t.child)))}function Kt(e){return t=>ht.createElement(ow,Ii({attr:Li({},e.attr)},t),Uf(e.child))}function ow(e){var t=r=>{var{attr:n,size:s,title:i}=e,o=tw(e,ew),a=s||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),ht.createElement("svg",Ii({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:Li(Li({color:e.color||r.color},r.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&ht.createElement("title",null,i),e.children)};return Hc!==void 0?ht.createElement(Hc.Consumer,null,r=>t(r)):t($f)}function aw(e){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"},child:[]}]})(e)}function lw(e){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"},child:[]}]})(e)}function uw(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 32c17.7 0 32 14.3 32 32l0 336c0 8.8 7.2 16 16 16l400 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 480c-44.2 0-80-35.8-80-80L0 64C0 46.3 14.3 32 32 32zM160 224c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32zm128-64l0 160c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-160c0-17.7 14.3-32 32-32s32 14.3 32 32zm64 32c17.7 0 32 14.3 32 32l0 96c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-96c0-17.7 14.3-32 32-32zM480 96l0 224c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-224c0-17.7 14.3-32 32-32s32 14.3 32 32z"},child:[]}]})(e)}function cw(e){return Kt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M413.5 237.5c-28.2 4.8-58.2-3.6-80-25.4l-38.1-38.1C280.4 159 272 138.8 272 117.6l0-12.1L192.3 62c-5.3-2.9-8.6-8.6-8.3-14.7s3.9-11.5 9.5-14l47.2-21C259.1 4.2 279 0 299.2 0l18.1 0c36.7 0 72 14 98.7 39.1l44.6 42c24.2 22.8 33.2 55.7 26.6 86L503 183l8-8c9.4-9.4 24.6-9.4 33.9 0l24 24c9.4 9.4 9.4 24.6 0 33.9l-88 88c-9.4 9.4-24.6 9.4-33.9 0l-24-24c-9.4-9.4-9.4-24.6 0-33.9l8-8-17.5-17.5zM27.4 377.1L260.9 182.6c3.5 4.9 7.5 9.6 11.8 14l38.1 38.1c6 6 12.4 11.2 19.2 15.7L134.9 484.6c-14.5 17.4-36 27.4-58.6 27.4C34.1 512 0 477.8 0 435.7c0-22.6 10.1-44.1 27.4-58.6z"},child:[]}]})(e)}function dw(e){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"},child:[]}]})(e)}function hw(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"},child:[]}]})(e)}function fw(e){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 416c0 17.7 14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384c-17.7 0-32 14.3-32 32zm128 0a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM320 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm32-80c-32.8 0-61 19.7-73.3 48L32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48zM192 128a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm73.3-64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64z"},child:[]}]})(e)}function pw(e){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"},child:[]}]})(e)}const Fs=({isActive:e})=>`flex items-center gap-2 border-4 border-black px-3 py-2 font-bold ${e?"bg-black text-white shadow-[6px_6px_0_#000]":"bg-white text-black shadow-[4px_4px_0_#000]"}`;function mw(){return y.jsxs("aside",{className:"hidden w-64 shrink-0 border-4 border-black bg-[#f9f5e8] p-4 shadow-[8px_8px_0_#000] md:block",children:[y.jsx("h1",{className:"mb-6 text-2xl font-black tracking-tight",children:"Habit Crusher"}),y.jsxs("nav",{className:"space-y-3 text-sm",children:[y.jsxs(Rt,{to:"/dashboard",className:Fs,children:[y.jsx(cw,{})," Dashboard"]}),y.jsxs(Rt,{to:"/progress",className:Fs,children:[y.jsx(uw,{})," Progress"]}),y.jsxs(Rt,{to:"/calendar",className:Fs,children:[y.jsx(lw,{})," Calendar"]}),y.jsxs(Rt,{to:"/settings",className:Fs,children:[y.jsx(fw,{})," Settings"]})]})]})}function gw({onAdd:e,onToggleMobileMenu:t,title:r,subtitle:n,showAdd:s=!0}){const{currentUser:i,logout:o}=cn(),[a,l]=x.useState(!1);return y.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3 border-b-4 border-black bg-white px-4 py-4",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:t,className:"grid h-12 w-12 place-items-center border-4 border-black bg-white text-xl shadow-[4px_4px_0_#000] md:hidden","aria-label":"Open menu",children:y.jsx(aw,{})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-black leading-tight",children:r}),y.jsx("p",{className:"font-semibold",children:n})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[s&&y.jsxs("button",{onClick:e,className:"flex items-center gap-2 border-4 border-black bg-[#2563eb] px-4 py-2 font-bold text-white shadow-[4px_4px_0_#000]",children:[y.jsx(dw,{})," Add Habit"]}),y.jsxs("div",{className:"relative",children:[y.jsxs("button",{onClick:()=>l(u=>!u),className:"flex items-center gap-2 border-4 border-black bg-white px-3 py-2 shadow-[4px_4px_0_#000]","aria-label":"Open profile menu",children:[y.jsx(pw,{}),y.jsx("span",{className:"hidden max-w-[180px] truncate md:inline",children:i==null?void 0:i.name})]}),a&&y.jsxs("div",{className:"absolute left-0 z-40 mt-2 w-64 max-w-[calc(100vw-2rem)] border-4 border-black bg-white p-2 shadow-[6px_6px_0_#000] md:left-auto md:right-0",children:[y.jsx("p",{className:"border-b-4 border-black p-2 text-sm font-bold",children:i==null?void 0:i.email}),y.jsx(fs,{to:"/settings",onClick:()=>l(!1),className:"mt-2 block border-4 border-black bg-yellow-300 px-3 py-2 font-bold",children:"Account preferences"}),y.jsxs("button",{onClick:async()=>{l(!1),await o()},className:"mt-2 flex w-full items-center gap-2 border-4 border-black bg-white px-3 py-2 font-bold",children:[y.jsx(hw,{})," Log out"]})]})]})]})]})}const Ws=({isActive:e})=>`block border-4 border-black px-3 py-2 font-bold ${e?"bg-black text-white":"bg-white"}`;function oo({children:e,onAdd:t,title:r,subtitle:n,showAdd:s=!0}){const[i,o]=x.useState(!1);return y.jsx("div",{className:"min-h-screen bg-[#f1f5f9] p-4",children:y.jsxs("div",{className:"mx-auto flex max-w-7xl gap-4",children:[y.jsx(mw,{}),y.jsxs("div",{className:"relative flex min-h-[88vh] flex-1 flex-col border-4 border-black bg-[#fffef5] shadow-[8px_8px_0_#000]",children:[y.jsx(gw,{onAdd:t,title:r,subtitle:n,showAdd:s,onToggleMobileMenu:()=>o(a=>!a)}),i&&y.jsx("div",{className:"border-b-4 border-black bg-[#fffef5] p-3 md:hidden",children:y.jsxs("nav",{className:"grid gap-2",children:[y.jsx(Rt,{to:"/dashboard",className:Ws,onClick:()=>o(!1),children:"Dashboard"}),y.jsx(Rt,{to:"/progress",className:Ws,onClick:()=>o(!1),children:"Progress"}),y.jsx(Rt,{to:"/calendar",className:Ws,onClick:()=>o(!1),children:"Calendar"}),y.jsx(Rt,{to:"/settings",className:Ws,onClick:()=>o(!1),children:"Settings"})]})}),y.jsx("main",{className:"flex-1 p-4 md:p-6",children:e})]})]})})}const Df=x.createContext(null),vw=(e=new Date)=>new Date(e).toISOString().slice(0,10),yw=(e,t)=>Math.round((new Date(e)-new Date(t))/864e5);function ww(e,t){var i;const r=e.lastCompletedDate;if(!r)return{streak:1,best:Math.max(1,e.bestStreak||0)};const n=yw(t,r);if(n===0)return{streak:e.streakCount||0,best:e.bestStreak||0,alreadyDone:!0};if(n>1){const o=Number(((i=e.details)==null?void 0:i.freezeTokens)||0);if(o>0){const a=(e.streakCount||0)+1;return{streak:a,best:Math.max(a,e.bestStreak||0),usedFreeze:!0,nextFreezeTokens:o-1}}}const s=n===1?(e.streakCount||0)+1:1;return{streak:s,best:Math.max(s,e.bestStreak||0)}}function _w({children:e}){const[t,r]=x.useState([]),[n,s]=x.useState(!1);x.useEffect(()=>{if(!Qe)return;let c=!0;return(async()=>{var k;s(!0);const{data:h}=await Se.auth.getUser(),m=(k=h==null?void 0:h.user)==null?void 0:k.id;if(!m){c&&s(!1);return}const{data:v,error:w}=await Se.from("habits").select("*").eq("user_id",m).order("created_at",{ascending:!1});c&&(!w&&v&&r(v.map(p=>({id:p.id,userId:p.user_id,name:p.name,color:p.color||"yellow",streakCount:p.streak_count||0,bestStreak:p.best_streak||0,lastCompletedDate:p.last_completed_date||null,completionHistory:p.completion_history||[],details:p.details||{progress:0,points:0,notes:"",media:null,freezeTokens:2,reminderEnabled:!1,reminderTime:"20:00",reminderDays:[1,2,3,4,5,6,0]},createdAt:new Date(p.created_at).getTime()}))),s(!1))})(),()=>{c=!1}},[]);const i=async({name:c,color:d,description:h,targetDate:m})=>{var w;const v=c==null?void 0:c.trim();if(!v)throw new Error("Habit name is required");if(Qe){const{data:k}=await Se.auth.getUser(),p=(w=k==null?void 0:k.user)==null?void 0:w.id;if(!p)throw new Error("Please log in again");const f={user_id:p,name:v,color:d||"yellow",streak_count:0,best_streak:0,completion_history:[],details:{progress:0,points:0,notes:"",media:null,description:h||"",targetDate:m||"",freezeTokens:2,reminderEnabled:!1,reminderTime:"20:00",reminderDays:[1,2,3,4,5,6,0],badges:[]}},{data:g,error:b}=await Se.from("habits").insert(f).select().single();if(b)throw b;r(E=>[{id:g.id,userId:g.user_id,name:g.name,color:g.color,streakCount:g.streak_count||0,bestStreak:g.best_streak||0,lastCompletedDate:g.last_completed_date||null,completionHistory:g.completion_history||[],details:g.details||{progress:0,points:0,notes:"",media:null,freezeTokens:2,reminderEnabled:!1,reminderTime:"20:00",reminderDays:[1,2,3,4,5,6,0],badges:[]},createdAt:new Date(g.created_at).getTime()},...E]);return}},o=async(c,d)=>{const h=t.find(p=>p.id===c);if(!h)return;const m={...h.details||{},...d.details||{}},v={name:d.name??h.name,color:d.color??h.color,details:m},{data:w,error:k}=await Se.from("habits").update(v).eq("id",c).select().single();if(k)throw k;r(p=>p.map(f=>f.id===c?{...f,name:w.name,color:w.color,details:w.details||m}:f))},a=async c=>{const{error:d}=await Se.from("habits").delete().eq("id",c);if(d)throw d;r(h=>h.filter(m=>m.id!==c))},l=async c=>{if(!t.find(w=>w.id===c))return;const h={streak_count:0,last_completed_date:null,completion_history:[]},{data:m,error:v}=await Se.from("habits").update(h).eq("id",c).select().single();if(v)throw v;r(w=>w.map(k=>k.id===c?{...k,streakCount:m.streak_count||0,lastCompletedDate:null,completionHistory:[]}:k))},u=async c=>{const d=vw(),h=t.find(b=>b.id===c);if(!h)return;const{streak:m,best:v,alreadyDone:w,usedFreeze:k,nextFreezeTokens:p}=ww(h,d);if(w)return;const f=new Set([...h.completionHistory||[],d]),g=Array.from(f).sort();if(Qe){const b=h.details||{progress:0,points:0,badges:[]},E=Number(b.points||0)+10,C=new Set(b.badges||[]);m>=7&&C.add("7-day streak"),m>=30&&C.add("30-day streak"),E>=100&&C.add("100 XP");const _={streak_count:m,best_streak:v,last_completed_date:d,completion_history:g,details:{...b,progress:Math.min(100,Number(b.progress||0)+10),points:E,badges:Array.from(C),freezeTokens:k?p:Number(b.freezeTokens||0),lastFreezeUsedAt:k?d:b.lastFreezeUsedAt||null}},{data:S,error:j}=await Se.from("habits").update(_).eq("id",c).select().single();if(j)throw j;r(P=>P.map(L=>L.id===c?{...L,streakCount:S.streak_count,bestStreak:S.best_streak,lastCompletedDate:S.last_completed_date,completionHistory:S.completion_history||[],details:S.details||L.details}:L));return}};return y.jsx(Df.Provider,{value:x.useMemo(()=>({habits:t,loading:n,createHabit:i,updateHabit:o,deleteHabit:a,clearCompletedHistory:l,markComplete:u}),[t,n]),children:e})}const tu=()=>{const e=x.useContext(Df);if(!e)throw new Error("useHabits must be used inside HabitProvider");return e},qc={yellow:"bg-yellow-300",blue:"bg-blue-300",red:"bg-red-300",green:"bg-green-300"},si=()=>new Date().toISOString().slice(0,10),Ko={name:"",color:"yellow",description:"",targetDate:si(),progress:0,points:0,notes:"",media:null,reminderEnabled:!1,reminderTime:"20:00"};function kw(){const{habits:e,createHabit:t,updateHabit:r,deleteHabit:n,clearCompletedHistory:s,markComplete:i}=tu(),o=yr(),[a,l]=x.useState(!1),[u,c]=x.useState(null),[d,h]=x.useState(Ko),m=new Date,v=`${m.getFullYear()}-${String(m.getMonth()+1).padStart(2,"0")}`,w=m.getDate(),k=x.useMemo(()=>{if(!e.length)return 0;const _=e.reduce((j,P)=>{const L=(P.completionHistory||[]).filter(B=>B.startsWith(v)).length;return j+L},0),S=e.length*w;return S?Math.round(_/S*100):0},[e,v,w]),p=x.useMemo(()=>{const _=new Date;_.setDate(_.getDate()-6);const j=[...e.map(B=>({name:B.name,count:(B.completionHistory||[]).filter(Y=>new Date(Y)>=_).length}))].sort((B,Y)=>Y.count-B.count),P=j[0],L=j[j.length-1];return{best:P,needsHelp:L,text:P?`Best this week: ${P.name} (${P.count} wins). Focus next on ${(L==null?void 0:L.name)||"consistency"} with a better reminder time.`:"Complete a habit to generate your weekly AI-style review."}},[e]),f=x.useMemo(()=>e.flatMap(_=>{var P,L,B;const S=(P=_.details)!=null&&P.media?[{date:((L=_.details)==null?void 0:L.targetDate)||"No date",type:_.details.media.type,dataUrl:_.details.media.dataUrl,habit:_.name}]:[],j=Object.entries(((B=_.details)==null?void 0:B.entries)||{}).filter(([,Y])=>{var We;return!!((We=Y==null?void 0:Y.media)!=null&&We.dataUrl)}).map(([Y,We])=>({date:Y,type:We.media.type,dataUrl:We.media.dataUrl,habit:_.name}));return[...S,...j]}).sort((_,S)=>String(S.date).localeCompare(String(_.date))).slice(0,12),[e]);x.useEffect(()=>{if(!("Notification"in window))return;Notification.permission==="default"&&Notification.requestPermission();const _=setInterval(()=>{const S=new Date,j=`${String(S.getHours()).padStart(2,"0")}:${String(S.getMinutes()).padStart(2,"0")}`,P=S.toISOString().slice(0,10);e.forEach(L=>{const B=L.details||{};if(!B.reminderEnabled||B.reminderTime!==j)return;!(L.completionHistory||[]).includes(P)&&Notification.permission==="granted"&&new Notification(`Habit reminder: ${L.name}`,{body:"You still have this habit pending today."})})},6e4);return()=>clearInterval(_)},[e]);const g=()=>{c(null),h({...Ko,targetDate:si()}),l(!0)},b=_=>{var S,j,P,L,B,Y,We,ms;c(_.id),h({name:_.name,color:_.color,description:((S=_.details)==null?void 0:S.description)||"",targetDate:((j=_.details)==null?void 0:j.targetDate)||si(),progress:Number(((P=_.details)==null?void 0:P.progress)||0),points:Number(((L=_.details)==null?void 0:L.points)||0),notes:((B=_.details)==null?void 0:B.notes)||"",media:((Y=_.details)==null?void 0:Y.media)||null,reminderEnabled:!!((We=_.details)!=null&&We.reminderEnabled),reminderTime:((ms=_.details)==null?void 0:ms.reminderTime)||"20:00"}),l(!0)},E=async _=>{_.preventDefault(),u?await r(u,{name:d.name,color:d.color,details:{progress:Number(d.progress||0),points:Number(d.points||0),notes:d.notes,media:d.media,description:d.description,targetDate:d.targetDate,reminderEnabled:!!d.reminderEnabled,reminderTime:d.reminderTime}}):await t({name:d.name,color:d.color,description:d.description,targetDate:d.targetDate}),l(!1),c(null),h({...Ko,targetDate:si()})},C=_=>{if(!_)return;const S=new FileReader;S.onload=()=>{h(j=>({...j,media:{name:_.name,type:_.type,dataUrl:S.result}}))},S.readAsDataURL(_)};return y.jsxs(oo,{onAdd:g,title:"Dashboard",subtitle:`${k}% Monthly Success Rate`,children:[y.jsxs("section",{className:"mb-5 border-4 border-black bg-[#ffef99] p-4 shadow-[6px_6px_0_#000]",children:[y.jsx("h3",{className:"text-2xl font-black",children:"Monthly Progress"}),y.jsxs("p",{className:"font-bold",children:[k,"% Monthly Success Rate"]})]}),y.jsxs("section",{className:"mb-5 border-4 border-black bg-white p-4 shadow-[6px_6px_0_#000]",children:[y.jsx("h3",{className:"text-xl font-black",children:"Weekly AI Review"}),y.jsx("p",{className:"font-semibold",children:p.text})]}),y.jsxs("section",{className:"mb-5 border-4 border-black bg-white p-4 shadow-[6px_6px_0_#000]",children:[y.jsx("h3",{className:"mb-3 text-xl font-black",children:"Media Timeline"}),!f.length&&y.jsx("p",{className:"font-semibold",children:"No proof uploaded yet."}),y.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:f.map((_,S)=>{var j;return y.jsxs("div",{className:"border-4 border-black bg-slate-50 p-2",children:[y.jsxs("p",{className:"text-xs font-bold",children:[_.date,"  ",_.habit]}),(j=_.type)!=null&&j.startsWith("video/")?y.jsx("video",{src:_.dataUrl,controls:!0,className:"mt-1 max-h-40 w-full"}):y.jsx("img",{src:_.dataUrl,alt:"proof",className:"mt-1 max-h-40 w-full object-cover"})]},`${_.habit}-${_.date}-${S}`)})})]}),y.jsxs("section",{children:[y.jsx("h3",{className:"mb-3 text-2xl font-black",children:"Your Habits"}),y.jsx("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:e.map(_=>{var j,P;const S=_.details||{};return y.jsxs("article",{className:`border-4 border-black p-4 shadow-[6px_6px_0_#000] ${qc[_.color]||qc.yellow}`,children:[y.jsx("h4",{className:"text-xl font-black",children:_.name}),S.description&&y.jsx("p",{className:"mb-1 font-semibold",children:S.description}),y.jsxs("p",{className:"mb-1 text-sm font-bold",children:["Target Date: ",S.targetDate||"Not set"]}),y.jsxs("p",{className:"font-bold",children:["Current Streak: ",_.streakCount]}),y.jsxs("p",{className:"font-bold",children:["Best Streak: ",_.bestStreak]}),y.jsxs("p",{className:"font-bold",children:["Progress: ",Number(S.progress||0),"%"]}),y.jsxs("p",{className:"font-bold",children:["Points: ",Number(S.points||0),"  Level ",Math.floor(Number(S.points||0)/100)+1]}),y.jsxs("p",{className:"mb-2 text-sm font-bold",children:["Freeze Tokens: ",Number(S.freezeTokens||0)]}),!!(S.badges||[]).length&&y.jsxs("p",{className:"mb-2 text-xs font-bold",children:["Badges: ",(S.badges||[]).join("  ")]}),y.jsx("input",{type:"range",min:"0",max:"100",value:Number(S.progress||0),onChange:L=>r(_.id,{details:{...S,progress:Number(L.target.value)}}),className:"mb-3 w-full accent-black"}),((j=S.media)==null?void 0:j.dataUrl)&&y.jsx("div",{className:"mb-3 border-4 border-black bg-white p-1",children:(P=S.media.type)!=null&&P.startsWith("video/")?y.jsx("video",{src:S.media.dataUrl,controls:!0,className:"max-h-40 w-full"}):y.jsx("img",{src:S.media.dataUrl,alt:"Habit proof",className:"max-h-40 w-full object-cover"})}),y.jsxs("div",{className:"grid gap-2 sm:grid-cols-3",children:[y.jsx("button",{onClick:()=>i(_.id),className:"border-4 border-black bg-white px-3 py-2 font-black shadow-[4px_4px_0_#000]",children:"Mark Complete"}),y.jsx("button",{onClick:()=>b(_),className:"border-4 border-black bg-blue-300 px-3 py-2 font-black shadow-[4px_4px_0_#000]",children:"Edit Habit"}),y.jsx("button",{onClick:()=>o(`/calendar?habit=${_.id}`),className:"border-4 border-black bg-yellow-200 px-3 py-2 font-black shadow-[4px_4px_0_#000]",children:"Calendar"})]}),y.jsxs("div",{className:"mt-2 grid gap-2 sm:grid-cols-2",children:[y.jsx("button",{onClick:()=>s(_.id),className:"border-4 border-black bg-orange-200 px-3 py-2 font-black shadow-[4px_4px_0_#000]",children:"Clear Completed"}),y.jsx("button",{onClick:()=>n(_.id),className:"border-4 border-black bg-red-300 px-3 py-2 font-black shadow-[4px_4px_0_#000]",children:"Delete Habit"})]})]},_.id)})}),!e.length&&y.jsx("p",{className:"mt-3 font-bold",children:"No habits yet. Add your first one."})]}),a&&y.jsx("div",{className:"fixed inset-0 z-50 grid items-start justify-items-center overflow-y-auto bg-black/40 p-4 pt-8 md:place-items-center",children:y.jsxs("form",{onSubmit:E,className:"w-full max-w-md border-4 border-black bg-white p-4 shadow-[8px_8px_0_#000]",children:[y.jsx("h3",{className:"text-xl font-black",children:u?"Edit Habit":"Add Habit"}),y.jsx("input",{value:d.name,onChange:_=>h(S=>({...S,name:_.target.value})),placeholder:"Habit name",className:"mt-3 w-full border-4 border-black px-3 py-2",required:!0}),y.jsxs("select",{value:d.color,onChange:_=>h(S=>({...S,color:_.target.value})),className:"mt-3 w-full border-4 border-black px-3 py-2",children:[y.jsx("option",{value:"yellow",children:"Yellow"}),y.jsx("option",{value:"blue",children:"Blue"}),y.jsx("option",{value:"red",children:"Red"}),y.jsx("option",{value:"green",children:"Green"})]}),y.jsx("input",{value:d.description,onChange:_=>h(S=>({...S,description:_.target.value})),placeholder:"Habit description / notes",className:"mt-3 w-full border-4 border-black px-3 py-2"}),y.jsx("label",{className:"mt-3 block bg-yellow-200 px-2 py-1 text-sm font-black text-black",children:"Target End Date"}),y.jsx("input",{type:"date",value:d.targetDate,onChange:_=>h(S=>({...S,targetDate:_.target.value})),className:"mt-1 h-12 w-full max-w-full appearance-none border-4 border-black bg-white px-3 py-2 text-black"}),y.jsx("p",{className:"mt-1 text-xs font-bold text-black",children:d.targetDate?`Selected: ${d.targetDate}`:"No date selected yet  tap field to pick one."}),u&&y.jsx("button",{type:"button",onClick:()=>o(`/calendar?habit=${u}`),className:"mt-3 w-full border-4 border-black bg-yellow-200 px-3 py-2 font-black",children:"Open Calendar for this Habit"}),u&&y.jsxs(y.Fragment,{children:[y.jsx("label",{className:"mt-3 block text-sm font-bold",children:"Progress"}),y.jsx("input",{type:"range",min:"0",max:"100",value:d.progress,onChange:_=>h(S=>({...S,progress:Number(_.target.value)})),className:"w-full accent-black"}),y.jsx("input",{type:"number",min:"0",max:"100",value:d.progress,onChange:_=>h(S=>({...S,progress:Number(_.target.value)})),className:"mt-1 w-full border-4 border-black px-3 py-2"}),y.jsx("label",{className:"mt-3 block text-sm font-bold",children:"Points"}),y.jsx("input",{type:"number",min:"0",value:d.points,onChange:_=>h(S=>({...S,points:Number(_.target.value)})),className:"w-full border-4 border-black px-3 py-2"}),y.jsx("label",{className:"mt-3 block text-sm font-bold",children:"Notes"}),y.jsx("textarea",{value:d.notes,onChange:_=>h(S=>({...S,notes:_.target.value})),className:"w-full border-4 border-black px-3 py-2",rows:3,placeholder:"Progress notes"}),y.jsxs("label",{className:"mt-3 flex items-center gap-2 text-sm font-bold",children:[y.jsx("input",{type:"checkbox",checked:!!d.reminderEnabled,onChange:_=>h(S=>({...S,reminderEnabled:_.target.checked}))})," Smart reminder"]}),y.jsx("input",{type:"time",value:d.reminderTime,onChange:_=>h(S=>({...S,reminderTime:_.target.value})),className:"w-full border-4 border-black px-3 py-2"}),y.jsxs("label",{className:"mt-3 block border-4 border-black bg-white px-3 py-2 font-bold cursor-pointer",children:["Add Photo/Video Proof",y.jsx("input",{type:"file",accept:"image/*,video/*",className:"hidden",onChange:_=>{var S;return C((S=_.target.files)==null?void 0:S[0])}})]})]}),y.jsxs("div",{className:"mt-4 flex gap-2",children:[y.jsx("button",{type:"submit",className:"flex-1 border-4 border-black bg-green-300 py-2 font-black",children:"Save"}),y.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 border-4 border-black bg-white py-2 font-black",children:"Cancel"})]})]})})]})}function bw(){return y.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-100 p-6 text-center",children:y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl font-bold",children:"404"}),y.jsx("p",{className:"mt-2 text-slate-500",children:"Page not found"}),y.jsx(fs,{to:"/",className:"mt-4 inline-block rounded-lg bg-brand-600 px-4 py-2 text-white",children:"Go Home"})]})})}function Hs({children:e}){const{currentUser:t,authLoading:r}=cn();return r?y.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-100 text-slate-600",children:"Checking session..."}):t?e:y.jsx(ni,{to:"/login",replace:!0})}const Sw=[7,15,30,90];function xw(){const{habits:e}=tu(),[t,r]=x.useState(30),n=x.useMemo(()=>{const o=[];for(let a=89;a>=0;a--){const l=new Date;l.setDate(l.getDate()-a);const u=l.toISOString().slice(0,10),c=e.reduce((d,h)=>{var m;return d+((m=h.completionHistory)!=null&&m.includes(u)?1:0)},0);o.push({key:u,count:c})}return o},[e]),s=x.useMemo(()=>e.map(o=>{const a=new Date;a.setDate(a.getDate()-30);const l=(o.completionHistory||[]).filter(u=>new Date(u)>=a).length;return{name:o.name,total:l}}),[e]),i=n.slice(-t);return y.jsxs(oo,{title:"Progress",subtitle:"Consistency over time",showAdd:!1,children:[y.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:Sw.map(o=>y.jsxs("button",{onClick:()=>r(o),className:`border-4 border-black px-3 py-1 font-black ${t===o?"bg-blue-300":"bg-white"}`,children:[o," days"]},o))}),y.jsxs("section",{className:"mb-6 border-4 border-black bg-white p-4 shadow-[6px_6px_0_#000]",children:[y.jsx("h3",{className:"mb-3 text-xl font-black",children:"Weekly Heatmap (last 90 days)"}),y.jsx("div",{className:"grid gap-1",style:{gridTemplateColumns:"repeat(15, minmax(0, 1fr))"},children:i.map(o=>y.jsx("div",{title:`${o.key}: ${o.count} completions`,className:`h-5 w-5 border border-black ${o.count===0?"bg-slate-100":o.count<2?"bg-green-300":o.count<4?"bg-green-500":"bg-green-700"}`},o.key))})]}),y.jsxs("section",{className:"border-4 border-black bg-white p-4 shadow-[6px_6px_0_#000]",children:[y.jsx("h3",{className:"mb-3 text-xl font-black",children:"Habit Comparison (last 30 days)"}),y.jsx("div",{className:"space-y-3",children:s.map(o=>y.jsxs("div",{children:[y.jsxs("div",{className:"mb-1 flex justify-between text-sm font-bold",children:[y.jsx("span",{children:o.name}),y.jsx("span",{children:o.total})]}),y.jsx("div",{className:"h-6 border-2 border-black bg-slate-100",children:y.jsx("div",{className:"h-full bg-red-400",style:{width:`${Math.min(100,o.total/30*100)}%`}})})]},o.name))})]})]})}function Ew(){const{changePassword:e,supabaseEnabled:t}=cn(),[r,n]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[s,i]=x.useState(""),o=async a=>{if(a.preventDefault(),i(""),r.newPassword.length<8)return i("Password must be at least 8 characters");if(r.newPassword!==r.confirmPassword)return i("Passwords do not match");try{await e({currentPassword:r.currentPassword,newPassword:r.newPassword}),i("Password updated."),n({currentPassword:"",newPassword:"",confirmPassword:""})}catch(l){i(l.message||"Failed to update password")}};return y.jsx(oo,{title:"Settings",subtitle:"Account preferences",showAdd:!1,children:y.jsxs("section",{className:"max-w-xl border-4 border-black bg-yellow-200 p-4 shadow-[6px_6px_0_#000]",children:[y.jsx("h3",{className:"text-xl font-black",children:"Change Password"}),y.jsxs("form",{onSubmit:o,className:"mt-3 space-y-3",children:[!t&&y.jsx("input",{type:"password",placeholder:"Current password",value:r.currentPassword,onChange:a=>n(l=>({...l,currentPassword:a.target.value})),className:"w-full border-4 border-black px-3 py-2",required:!0}),y.jsx("input",{type:"password",placeholder:"New password",value:r.newPassword,onChange:a=>n(l=>({...l,newPassword:a.target.value})),className:"w-full border-4 border-black px-3 py-2",required:!0}),y.jsx("input",{type:"password",placeholder:"Confirm new password",value:r.confirmPassword,onChange:a=>n(l=>({...l,confirmPassword:a.target.value})),className:"w-full border-4 border-black px-3 py-2",required:!0}),y.jsx("button",{className:"border-4 border-black bg-black px-4 py-2 font-black text-white",children:"Update Password"}),s&&y.jsx("p",{className:"font-bold",children:s})]})]})})}const Cw=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Kc=e=>new Date(e).toISOString().slice(0,10);function Tw(e){const t=e.getFullYear(),r=e.getMonth(),s=new Date(t,r,1).getDay(),i=new Date(t,r+1,0).getDate(),o=new Date(t,r,0).getDate(),a=[];for(let l=0;l<s;l++)a.push(new Date(t,r-1,o-s+l+1));for(let l=1;l<=i;l++)a.push(new Date(t,r,l));for(;a.length<42;)a.push(new Date(t,r+1,a.length-(s+i)+1));return a}function Pw(){var b,E,C;const{habits:e,updateHabit:t}=tu(),r=yr(),[n]=vv(),[s,i]=x.useState(new Date),[o,a]=x.useState(""),[l,u]=x.useState(Kc(new Date)),[c,d]=x.useState({achieved:"",notes:"",media:null}),[h,m]=x.useState("");x.useEffect(()=>{if(!e.length)return;const _=n.get("habit");if(_&&e.some(S=>S.id===_)){a(_);return}o||a(e[0].id)},[e,n,o]);const v=e.find(_=>_.id===o)||e[0],w=x.useMemo(()=>Tw(s),[s]),k=((b=v==null?void 0:v.details)==null?void 0:b.entries)||{};x.useEffect(()=>{if(!l)return;const _=k[l]||{achieved:"",notes:"",media:null};d(_)},[l,o]);const p=_=>{u(_);const S=k[_]||{achieved:"",notes:"",media:null};d(S),m("")},f=async()=>{if(!v)return;const _=v.details||{},S={..._.entries||{},[l]:c};await t(v.id,{details:{..._,entries:S}}),r("/dashboard")},g=_=>{if(!_)return;if(_.type.startsWith("video/")){const j=URL.createObjectURL(_),P=document.createElement("video");P.preload="metadata",P.onloadedmetadata=()=>{if(URL.revokeObjectURL(j),P.duration>10){m("Video must be 10 seconds or less.");return}const L=new FileReader;L.onload=()=>{d(B=>({...B,media:{name:_.name,type:_.type,dataUrl:L.result}})),m("")},L.readAsDataURL(_)},P.src=j;return}const S=new FileReader;S.onload=()=>{d(j=>({...j,media:{name:_.name,type:_.type,dataUrl:S.result}})),m("")},S.readAsDataURL(_)};return y.jsxs(oo,{title:"Calendar",subtitle:"Track what you achieved each day",showAdd:!1,children:[y.jsxs("section",{className:"mb-4 border-4 border-black bg-white p-4 shadow-[6px_6px_0_#000]",children:[y.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-2",children:[y.jsx("button",{className:"border-4 border-black bg-white px-3 py-1 font-black",onClick:()=>i(new Date(s.getFullYear(),s.getMonth()-1,1)),children:""}),y.jsx("h3",{className:"text-xl font-black",children:s.toLocaleDateString(void 0,{month:"long",year:"numeric"})}),y.jsx("button",{className:"border-4 border-black bg-white px-3 py-1 font-black",onClick:()=>i(new Date(s.getFullYear(),s.getMonth()+1,1)),children:""})]}),y.jsx("select",{className:"mb-4 w-full border-4 border-black px-3 py-2 font-bold",value:o||(v==null?void 0:v.id)||"",onChange:_=>{a(_.target.value),d({achieved:"",notes:"",media:null})},children:e.map(_=>y.jsx("option",{value:_.id,children:_.name},_.id))}),y.jsx("h4",{className:"mb-2 text-lg font-black",children:"Habit Calendar"}),y.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-xs font-black",children:Cw.map(_=>y.jsx("div",{children:_},_))}),y.jsx("div",{className:"mt-2 grid grid-cols-7 gap-2",children:w.map(_=>{var L,B,Y;const S=Kc(_),j=_.getMonth()===s.getMonth(),P=!!((L=k[S])!=null&&L.achieved)||!!((B=k[S])!=null&&B.notes)||!!((Y=k[S])!=null&&Y.media);return y.jsxs("button",{onClick:()=>p(S),className:`relative min-h-16 border-4 border-black p-2 pb-6 text-left font-bold ${j?"bg-white":"bg-slate-100"} ${l===S?"ring-2 ring-blue-500":""}`,children:[y.jsx("div",{children:_.getDate()}),P&&y.jsx("div",{className:"absolute bottom-1 left-1 rounded bg-green-300 px-1.5 py-0.5 text-[10px] leading-none",children:"Saved"})]},S)})})]}),y.jsxs("section",{className:"border-4 border-black bg-[#ffef99] p-4 shadow-[6px_6px_0_#000]",children:[y.jsxs("h3",{className:"text-xl font-black",children:["Calendar Day Entry  ",l]}),v&&y.jsxs("p",{className:"font-bold",children:["Habit: ",v.name]}),y.jsx("label",{className:"mt-3 block text-sm font-black",children:"Achievement"}),y.jsx("input",{className:"mt-1 w-full border-4 border-black px-3 py-2",placeholder:"What did you achieve?",value:c.achieved||"",onChange:_=>d(S=>({...S,achieved:_.target.value}))}),y.jsx("label",{className:"mt-3 block text-sm font-black",children:"Calendar Notes"}),y.jsx("textarea",{className:"mt-1 w-full border-4 border-black px-3 py-2",rows:3,placeholder:"Add notes for this date",value:c.notes||"",onChange:_=>d(S=>({...S,notes:_.target.value}))}),y.jsxs("label",{className:"mt-3 block border-4 border-black bg-white px-3 py-2 font-black cursor-pointer",children:["Calendar Proof (picture or 10s video)",y.jsx("input",{type:"file",accept:"image/*,video/*",className:"hidden",onChange:_=>{var S;return g((S=_.target.files)==null?void 0:S[0])}})]}),h&&y.jsx("p",{className:"mt-2 font-bold text-red-700",children:h}),((E=c.media)==null?void 0:E.dataUrl)&&y.jsx("div",{className:"mt-3 border-4 border-black bg-white p-2",children:(C=c.media.type)!=null&&C.startsWith("video/")?y.jsx("video",{src:c.media.dataUrl,controls:!0,className:"max-h-44 w-full"}):y.jsx("img",{src:c.media.dataUrl,alt:"Day proof",className:"max-h-44 w-full object-cover"})}),y.jsx("button",{onClick:f,className:"mt-4 border-4 border-black bg-blue-300 px-4 py-2 font-black",children:"Save Day Entry"})]})]})}function Ow(){const{currentUser:e}=cn();return y.jsxs(nv,{children:[y.jsx(ot,{path:"/",element:y.jsx(ni,{to:"/dashboard",replace:!0})}),y.jsx(ot,{path:"/login",element:e?y.jsx(ni,{to:"/dashboard",replace:!0}):y.jsx(X0,{})}),y.jsx(ot,{path:"/signup",element:e?y.jsx(ni,{to:"/dashboard",replace:!0}):y.jsx(Z0,{})}),y.jsx(ot,{path:"/dashboard",element:y.jsx(Hs,{children:y.jsx(kw,{})})}),y.jsx(ot,{path:"/progress",element:y.jsx(Hs,{children:y.jsx(xw,{})})}),y.jsx(ot,{path:"/settings",element:y.jsx(Hs,{children:y.jsx(Ew,{})})}),y.jsx(ot,{path:"/calendar",element:y.jsx(Hs,{children:y.jsx(Pw,{})})}),y.jsx(ot,{path:"*",element:y.jsx(bw,{})})]})}Go.createRoot(document.getElementById("root")).render(y.jsx(ht.StrictMode,{children:y.jsx(hv,{children:y.jsx(Y0,{children:y.jsx(_w,{children:y.jsx(Ow,{})})})})}));
